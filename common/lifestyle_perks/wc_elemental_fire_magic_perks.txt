elemental_fire_magic_tree_1_perk_1 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 2 0 }
	icon = node_martial

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_fire }
	}

	auto_selection_weight = {
		value = wc_elemental_fire_magic_auto_selection_value
		
		if = { # Any focus
			limit = { has_focus_elemental_fire_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_fire TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_flame_shock
		wc_learn_spell_effect = {
			SPELL = flame_shock
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_2 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 0.5 1 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_1

	effect = {
		custom_tooltip = wc_pyromania_tooltip
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_3 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 3.5 1 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_1

	effect = {
		custom_tooltip = wc_hb_tt
		add_character_modifier = {
			modifier = wc_hearth_blessing_modifier
		}	
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_4 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 2 2 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_1
	character_modifier = {
		court_grandeur_baseline_add = 2
		guest_opinion = 15
		courtier_opinion = 10
	}
	effect = {																													
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_5 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 0 2.5 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_2

	effect = {
		# Maintenance
		custom_tooltip = wc_learn_spell_burnout
		wc_learn_spell_effect = {
			SPELL = burnout
		}
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_6 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 4 2.5 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_3

	effect = {
		# Maintenance
		custom_tooltip = wc_learn_spell_cauterize_wound
		wc_learn_spell_effect = {
			SPELL = cauterize_wound
		}
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_7 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 0.5 4 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_4
	parent = elemental_fire_magic_tree_1_perk_5

	effect = {
		# Maintenance
		custom_tooltip = wc_enhanced_burnout_tt
		levy_reinforcement_rate = 0.1
		army_pursuit_mult = 0.1
		controlled_province_advantage = 4
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_8 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 3.5 4 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_4
	parent = elemental_fire_magic_tree_1_perk_6

	effect = {
		custom_tooltip = wc_greater_cauterize_tt
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_1_perk_9 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_1
	position = { 2 5 }
	icon = node_martial

	parent = elemental_fire_magic_tree_1_perk_7
	parent = elemental_fire_magic_tree_1_perk_8

	effect = {
		# Maintenance
		custom_tooltip = wc_learn_spell_vernal_solstice
		wc_learn_spell_effect = {
			SPELL = vernal_solstice
		}
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}

elemental_fire_magic_tree_2_perk_1 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 1.25 0 }
	icon = node_martial

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_fire }
	}

	auto_selection_weight = {
		value = wc_elemental_fire_magic_auto_selection_value
		
		if = { # Any focus
			limit = { has_focus_elemental_fire_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_fire TREE = 2 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = {
			text = wc_learn_spell_summon_fire_elemental
		}
		wc_learn_spell_effect = {
			SPELL = summon_fire_elemental
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_2 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 3 1 }
	icon = node_martial

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = elemental_fire }
	}

	auto_selection_weight = {
		value = wc_elemental_fire_magic_auto_selection_value
		
		if = { # Any focus
			limit = { has_focus_elemental_fire_magic_trigger = yes }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_elemental_MAGIC_magic_lifestyle_tree_TREE_trigger = { MAGIC = elemental_fire TREE = 2 } }
			}
			multiply = 0
		}
	}

	character_modifier = {
		jungle_development_growth_factor = 0.05
		forest_development_growth_factor = 0.05
		taiga_development_growth_factor = 0.05
		wetlands_development_growth_factor = 0.05
	
		jungle_advantage = 5
		forest_advantage = 5
		taiga_advantage = 5
		wetlands_advantage = 5
	}

	effect = {
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_3 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 0 2 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_1

	effect = {
		custom_tooltip = wc_elemental_fire_magic_tree_2_perk_3_desc
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_4 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 2 2 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_1
	parent = elemental_fire_magic_tree_2_perk_2

	effect = {
		custom_tooltip = wc_learn_spell_lava_lash
		wc_learn_spell_effect = {
			SPELL = lava_lash
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_5 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 0 3 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_3
	parent = elemental_fire_magic_tree_2_perk_4

	effect = {
		custom_tooltip = wc_elemental_fire_magic_tree_2_perk_5_desc
		custom_tooltip = wc_learn_spell_summon_fire_elemental_2
		learn_spell_rank_effect = {
			SPELL = summon_fire_elemental
			RANK = 2
		}
		learn_spell_rank_effect = {
			SPELL = summon_fire_elemental
			RANK = 3
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_6 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 4 3 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_2

	character_modifier = {
		siege_weapon_siege_value_mult = 0.1
		caster_damage_mult = 0.1
	}

	effect = {
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_7 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 0.5 4 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_5

	effect = {
		custom_tooltip = wc_learn_spell_backdraft
		custom_tooltip = wc_lava_lash_proc
		wc_learn_spell_effect = {
			SPELL = backdraft
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_8 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 3.5 4 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_6

	effect = {
		custom_tooltip = wc_learn_spell_backdraft_2
		learn_spell_rank_effect = {
			SPELL = backdraft
			RANK = 2
		}
		learn_spell_rank_effect = {
			SPELL = backdraft
			RANK = 3
		}
		custom_tooltip = wc_learn_spell_flame_wall
		wc_learn_spell_effect = {
			SPELL = flame_wall
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}
elemental_fire_magic_tree_2_perk_9 = {
	lifestyle = elemental_fire_magic_lifestyle
	tree = elemental_fire_magic_tree_2
	position = { 2 5 }
	icon = node_martial

	parent = elemental_fire_magic_tree_2_perk_7
	parent = elemental_fire_magic_tree_2_perk_8

	effect = {
		custom_tooltip = wc_learn_ritual_planar_fire
		wc_learn_spell_effect = {
			SPELL = planar_fire
		}
		# Maintenance
		wc_elemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = elemental_fire }
	}
}