### This file contains reactive advice

reactive_advice_mercenaries = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_mercenaries }
	#	NOT = { any_hired_mercenary = { always = yes } }
	#	OR = {
	#		any_character_war = {
	#			defender_war_score < -25
	#			casus_belli = {
	#				primary_defender = root
	#			}
	#		}
	#		any_character_war = {
	#			attacker_war_score < -25
	#			casus_belli = {
	#				primary_attacker = root
	#			}
	#		}
	#	}
	#}

	reactive_advice_mercenaries_step_1 = {
		text = "reactive_advice_mercenaries_desc"
		animation = left

		highlight_widget = "tab_military"
		highlight_widget = "tutorial_highlight_hire_troops_button"
		highlight_widget = "tutorial_highlight_mercenary_list_item"
		highlight_widget = "hire_button"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
			enabled = {
				custom_description = {
					text = "reactive_advice_mercenaries_task"
					is_widgetid_open = hired_troop_detail_view
				}
			}
		}
	}
}

reactive_advice_succession = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_succession }
	#	has_character_flag = tutorial_reactive_advice_succession
	#}

	reactive_advice_succession_step_1 = {
		text = "reactive_advice_succession_desc"
		animation = center

		highlight_widget = "tutorial_highlight_bottom_left_portrait_button"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_domain_limit = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	domain_limit_available < 0
	#}

	reactive_advice_domain_limit_step_1 = {
		text = "reactive_advice_domain_limit_desc"
		animation = center

		highlight_widget = "tab_my_realm"
		highlight_widget = "tutorial_highlight_domain_tab"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_vassal_limit = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	vassal_limit_available < 0
	#}

	reactive_advice_vassal_limit_step_1 = {
		text = "reactive_advice_vassal_limit_desc"
		animation = left

		#highlight_widget = "tab_my_realm"
		highlight_widget = "tutorial_highlight_vassal_limit"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_megaduke_penalty = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	primary_title.tier = tier_duchy
	#	30 <= { # Needs to match MAX_COUNTIES_IN_REALM_AS_DUKE
	#		every_sub_realm_county = { add = 1 }
	#	}
	#}

	reactive_advice_megaduke_penalty_step_1 = {
		text = "reactive_advice_megaduke_penalty_desc"
		animation = right

		highlight_widget = "actions_button"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_bastards = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_bastards }
	#	has_character_flag = tutorial_reactive_advice_bastards
	#}

	reactive_advice_bastards_step_1 = {
		text = "reactive_advice_bastards_desc"
		animation = right

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_protecting_against_hostile_schemes = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_protecting_against_hostile_schemes }
	#	OR = {
	#		any_targeting_scheme = {
	#			is_hostile = yes
	#		}
	#		AND = {
	#			exists = cp:councillor_spymaster
	#			cp:councillor_spymaster = {
	#				opinion = {
	#					target = root
	#					value < -20
	#				}
	#			}
	#		}
	#		NOT = { exists = cp:councillor_spymaster }
	#	}
	#}

	reactive_advice_protecting_against_hostile_schemes_step_1 = {
		text = "reactive_advice_protecting_against_hostile_schemes_desc"
		header_info = "lesson_step_1_of_2"
		animation = left

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_protecting_against_hostile_schemes_step_2
		}
	}

	reactive_advice_protecting_against_hostile_schemes_step_2 = {
		text = "reactive_advice_protecting_against_hostile_schemes_2_desc"
		header_info = "lesson_step_2_of_2"
		animation = left

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = { #Back button
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_protecting_against_hostile_schemes_step_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_protect_against_factions = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_protect_against_factions }
	#	any_targeting_faction = {
	#		always = yes
	#	}
	#}

	reactive_advice_protect_against_factions_step_1 = {
		text = "reactive_advice_protect_against_factions_desc"
		header_info = "lesson_step_1_of_2"
		animation = center

		highlight_widget = "tab_factions"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_protect_against_factions_step_2
		}
	}

	reactive_advice_protect_against_factions_step_2 = {
		text = "reactive_advice_protect_against_factions_2_desc"
		header_info = "lesson_step_2_of_2"
		animation = center

		highlight_widget = "tab_factions"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = { #Back button
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_protect_against_factions_step_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_imprisoned = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	#trigger = {
	#	NOT = { is_tutorial_lesson_completed = reactive_advice_imprisoned }
	#	is_imprisoned = yes
	#}

	reactive_advice_imprisoned_step_1 = {
		text = "reactive_advice_imprisoned_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_county_control = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_county_control_step_1 = {
		text = "reactive_advice_county_control_desc"
		animation = left

		#highlight_widget = "tab_my_realm"
		#highlight_widget = "tutorial_highlight_domain_tab"
		#highlight_widget = "tutorial_highlight_control"
		highlight_widget = "tab_council"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_looming_game_over = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_looming_game_over_step_1 = {
		text = "reactive_advice_looming_game_over_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_bankruptcy = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_bankruptcy_step_1 = {
		text = "reactive_advice_bankruptcy_desc"
		animation = center

		highlight_widget = "gold"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_rightful_liege = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_rightful_liege_step_1 = {
		text = "reactive_advice_rightful_liege_desc"
		header_info = "lesson_step_1_of_2"
		animation = center

		highlight_widget = "actions_button"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_rightful_liege_step_2
		}
	}

	reactive_advice_rightful_liege_step_2 = {
		text = "reactive_advice_rightful_liege_2_desc"
		header_info = "lesson_step_2_of_2"
		animation = center

		highlight_widget = "map_mode_duchies_button"

		highlight_widget = "map_mode_kingdoms_button"

		highlight_widget = "map_mode_empires_button"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = { #Back button
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_rightful_liege_step_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_bishop_endorsement = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_bishop_endorsement_step_1 = {
		text = "reactive_advice_bishop_endorsement_desc"
		animation = left

		highlight_widget = "tab_council"
		highlight_widget = "church_approval_icon"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_encyclopedia = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_encyclopedia_step_1 = {
		text = "reactive_advice_encyclopedia_desc"

		highlight_widget = "encyclopedia_button_extended_menu"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_dynamic_culture = {
	delay = 0
	chain = reactive_advice
	start_automatically = no


	lesson_basics_culture_open_view = {
		text = "lesson_basics_culture_open_view_desc"
		highlight_widget = "player_culture_button_tutorial_uses_this"
		animation = center
		header_info = "lesson_step_1_of_6"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_culture_elements
			trigger = {
				custom_description = {
					text = "lesson_basics_culture_open_view_trigger"
					is_widgetid_open = culture_window
				}
			}
		}
	}

	lesson_basics_culture_elements = {
		text = "lesson_basics_culture_elements_desc"
		animation = center
		highlight_widget = "traditions_and_pillars_tab_tutorial_uses_this"
		header_info = "lesson_step_2_of_6"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_culture_culture_head
		}

		trigger_transition = {
			target = lesson_basics_culture_open_view
			trigger = {
				NOT = { is_widgetid_open = culture_window }
			}
		}

	}

	lesson_basics_culture_culture_head = {
		text = "lesson_basics_culture_culture_head_desc"
		animation = center
		highlight_widget = "culture_head_tutorial_uses_this"
		header_info = "lesson_step_3_of_6"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_culture_elements
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_culture_innovations_open
		}

		trigger_transition = {
			target = lesson_basics_culture_open_view
			trigger = {
				NOT = { is_widgetid_open = culture_window }
			}
		}

	}

	lesson_basics_culture_innovations_open = {
		text = "lesson_basics_culture_innovations_open_desc"
		animation = center
		highlight_widget = "innovations_tab_tutorial_uses_this"
		header_info = "lesson_step_4_of_6"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_culture_culture_head
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_culture_innovations
			trigger = {
				custom_description = {
					text = "lesson_basics_culture_open_innovations_tab_trigger"
					is_widgetid_open = innovations_area_tutorial_uses_this
				}
			}
		}

		trigger_transition = {
			target = lesson_basics_culture_open_view
			trigger = {
				NOT = { is_widgetid_open = culture_window }
			}
		}

	}

	lesson_basics_culture_innovations = {
		text = "lesson_basics_culture_innovations_desc"
		animation = center
		highlight_widget = "innovations_area_tutorial_uses_this"
		header_info = "lesson_step_5_of_6"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_culture_innovations_spread
		}

		trigger_transition = {
			target = lesson_basics_culture_innovations_open
			trigger = {
				NOT = { is_widgetid_open = innovations_area_tutorial_uses_this }
			}
		}

	}

	lesson_basics_culture_innovations_spread = {
		text = "lesson_basics_culture_innovations_spread_desc"
		animation = center
		highlight_widget = "fascination_info_tutorial_uses_this"
		header_info = "lesson_step_6_of_6"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_culture_innovations
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}

		trigger_transition = {
			target = lesson_basics_culture_innovations_open
			trigger = {
				NOT = { is_widgetid_open = innovations_area_tutorial_uses_this }
			}
		}

	}

}

reactive_advice_religion = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	# Your religion...
	lesson_basics_religion_1 = {
		text = "lesson_basics_religion_1_desc"
		header_info = "lesson_step_1_of_4"
		highlight_widget = "faith_button"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_religion_2
		}
		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_religion_2
			trigger = {
				custom_description = {
					text = "lesson_basics_religion_click_religion_tt"
					is_widgetid_open = faith_window
				}
			}
		}

	}

	# Doctrines...
	lesson_basics_religion_2 = {
		text = "lesson_basics_religion_2_desc"
		header_info = "lesson_step_2_of_4"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_religion_1
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_religion_3
		}
	}
	# Fervor...
	lesson_basics_religion_3 = {
		text = "lesson_basics_religion_3_desc"
		header_info = "lesson_step_3_of_4"
		highlight_widget = "fervor_container"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_religion_2
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_basics_religion_4
		}
	}
	# Founding your own religion...
	lesson_basics_religion_4 = {
		text = "lesson_basics_religion_4_desc"
		header_info = "lesson_step_4_of_4"
		highlight_widget = "create_faith"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_religion_3
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_basics_religion_4_no_GUI_highlight
		}
		trigger_transition = { # Next
			target = lesson_basics_religion_4_no_GUI_highlight
			trigger = {
				is_widgetid_open = faith_creation_window
			}
		}
	}
	# Founding your own religion...
	lesson_basics_religion_4_no_GUI_highlight = {
		text = "lesson_basics_religion_4_desc"
		header_info = "lesson_step_4_of_4"
		shown_in_encyclopedia = no

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_basics_religion_3
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}



reactive_advice_fabricate_claim = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_fabricate_claim_step_1 = {
		text = "reactive_advice_fabricate_claim_desc"
		animation = left

		highlight_widget = "tab_council"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_education = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_education_step_1 = {
		text = "reactive_advice_education_desc"
		animation = center

		highlight_widget = "tutorial_highlight_bottom_left_portrait_button"
		highlight_widget = "heir"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_tooltip_modes = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_tooltip_modes_step_1 = {
		text = "reactive_advice_tooltip_modes_desc"
		header_info = "lesson_step_1_of_2"
		animation = center

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = reactive_advice_tooltip_modes_step_2
		}
	}

	reactive_advice_tooltip_modes_step_2 = {
		text = "reactive_advice_tooltip_modes_2_desc"
		header_info = "lesson_step_2_of_2"
		animation = center

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = { #Back button
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = reactive_advice_tooltip_modes_step_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_perk_bonus_cap = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_perk_bonus_cap_step_1 = {
		text = "reactive_advice_perk_bonus_cap_desc"
		animation = center

		highlight_widget = "tutorial_highlight_lifestyle_HUD_button"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_varangian_adventure = {
	chain = reactive_advice
	delay = 0
	start_automatically = no

	reactive_advice_varangian_adventure_step_1 = {
		text = "reactive_advice_varangian_adventure_desc"
		animation = left

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}
		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}
		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_court_positions = {
	chain = reactive_advice
	start_automatically = no


	ra_court_pos_open_view = {
		effect = {
			remove_character_flag = force_court_positions_tutorial
		}
		pause_game = yes
		text = "ra_court_pos_open_view_desc"
		highlight_widget = "tab_court_tutorial_uses_this"
		highlight_widget = "court_positions_tab_button_tutorial_uses_this"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_court_pos_appointing
			trigger = {
				custom_description = {
					text = "ra_court_pos_open_view_trigger"
					is_widgetid_open = court_positions_subtab_tutorial_uses_this
				}
			}
		}
	}

	ra_court_pos_appointing = {
		text = "ra_court_pos_appointing_desc"
		animation = center
		highlight_widget = "position_portrait_tutorial_uses_this"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}

		trigger_transition = {
			target = ra_court_pos_open_view
			trigger = {
				NOT = { is_widgetid_open = court_positions_subtab_tutorial_uses_this }
			}
		}
	}

}

reactive_advice_artifact_inventory = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	ra_artifact_inventory_general = {
		text = ra_artifact_inventory_general_desc
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_artifact_inventory_open_step
		}

	}

	ra_artifact_inventory_open_step = {
		text = ra_artifact_inventory_open_step_desc
		highlight_widget = "open_inventory_tutorial_uses_this"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_artifact_inventory_general
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_artifact_inventory_welcome
			trigger = {
				custom_tooltip = {
					text = "ra_artifact_inventory_open_step_open"
					is_widgetid_open = inventory_view
				}
			}
		}

	}

	ra_artifact_inventory_welcome = {
		text = ra_artifact_inventory_welcome_desc
		highlight_widget = "inventory_slot_tutorial_highlight_locator"
		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_artifact_inventory_open_step
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}


		# Go back if view was closed
		trigger_transition = {
			target = ra_artifact_inventory_open_step
			trigger = {
				NOT = {	is_widgetid_open = inventory_view	}
			}
		}


	}

}


reactive_advice_station_maa = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	ra_maa_stationing_open_card_step = {
		text = ra_maa_stationing_open_card_step_desc
		animation = center
		highlight_widget = "tab_military"
		highlight_widget = "tutorial_maa_tiles"
		header_info = "lesson_step_1_of_4"

		gui_transition = {
			button_id = "read_later"
			button_text = "tutorial_lesson_button_read_later"
			target = lesson_abort
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_maa_stationing_click_station_button
			trigger = {
				custom_description = {
					text = "ra_maa_stationing_open_card_step_tt"
					is_widgetid_open = menatarms_view
				}
			}
		}
	}

	ra_maa_stationing_click_station_button = {
		text = ra_maa_stationing_click_station_button_desc
		animation = left
		highlight_widget = "maa_no_location"
		highlight_widget = "maa_current_location"
		header_info = "lesson_step_2_of_4"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_maa_stationing_select_station
			trigger = {
				custom_description = {
					text = "ra_maa_stationing_click_station_button_tt"
					is_widgetid_open = select_men_at_arms_origin_window
				}
			}
		}

		# Go back if view was closed
		trigger_transition = {
			target = ra_maa_stationing_open_card_step
			trigger = {
				NOT = {	is_widgetid_open = menatarms_view	}
			}
		}
	}

	ra_maa_stationing_select_station = {
		text = ra_maa_stationing_select_station_desc
		animation = far_left
		highlight_widget = "men_at_arms_origin_widget"
		header_info = "lesson_step_3_of_4"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_maa_stationing_finished
			trigger = {
				custom_description = {
					text = "ra_maa_stationing_select_station_tt"
					is_widgetid_open = military_view
				}
			}
		}
	}

	ra_maa_stationing_finished = {
		text = ra_maa_stationing_finished_desc
		animation = left
		highlight_widget = "maa_current_location"
		header_info = "lesson_step_4_of_4"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_tours_picking_vassals = {
	chain = reactive_advice
	start_automatically = no

	# Player left this step :(
	trigger_transition = {
		target = lesson_abort
		trigger = {
			NOT = {
				is_widgetid_open = "multi_destination_selection"
			}
		}
	}

	ra_tours_picking_vassals_intro = {
		text = "ra_tours_picking_vassals_intro_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tours_picking_vassals_add
		}

	}

	ra_tours_picking_vassals_add = {
		text = "ra_tours_picking_vassals_add_desc"
		animation = far_bottom_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tours_picking_vassals_intro
		}


		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tours_picking_vassals_stops

			enabled = {
				custom_description = {
					text = "ra_tours_picking_vassals_add_prompt"
					is_widgetid_open = tour_has_vassals_tutorial_uses_this
				}
			}
		}
	}

	ra_tours_picking_vassals_stops = {
		text = "ra_tours_picking_vassals_stops_desc"
		animation = center
		highlight_widget = "pickable_phases_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tours_picking_vassals_add
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tours_picking_vassals_conclusion
		}

		#Player removed a Vassal, go back so they can add one

		trigger_transition = {
			target = ra_tours_picking_vassals_add
			trigger = {
				NOT = { is_widgetid_open = tour_has_vassals_tutorial_uses_this }
			}
		}
	}

	ra_tours_picking_vassals_conclusion = {
		text = "ra_tours_picking_vassals_conclusion_desc"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tours_picking_vassals_stops
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_regency_for_liege = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	ra_regency_liege_intro = {
		text = "ra_regency_liege_intro_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_effects
		}
	}

	ra_regency_liege_effects = {
		text = "ra_regency_liege_effects_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_intro
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_open_UI
		}
	}

	ra_regency_liege_open_UI = {
		text = "ra_regency_liege_open_UI_desc"

		interface_effect = {
			close_all_views = yes
		}

		highlight_widget = "open_diarchy_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_effects
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_open_tab
			trigger = {
				custom_tooltip = {
					text = "ra_regency_liege_open_UI_prompt"
					is_widgetid_open = diarchy_window
				}
			}
		}

	}

	ra_regency_liege_open_tab = {
		text = "ra_regency_liege_open_tab_desc"

		animation = far_left

		highlight_widget = your_regent_tab_tutorial_uses_this

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_open_UI
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_scales_of_power
			trigger = {
				custom_tooltip = {
					text = "ra_regency_liege_open_tab_prompt"
					is_widgetid_open = tutorial_tab_visible_your_regent
				}
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_liege_scales_of_power = {
		text = "ra_regency_liege_scales_of_power_desc"

		highlight_widget = "scales_of_power_area_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_open_tab
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_mandate
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}

	}

	ra_regency_liege_mandate = {
		text = "ra_regency_liege_mandate_desc"

		highlight_widget = "mandates_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_scales_of_power
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_ending
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_liege_ending = {
		text = "ra_regency_liege_ending_desc"

		highlight_widget = "end_diarchy_tutorial_uses_this"


		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_mandate
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_liege_conclusion
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_liege_conclusion = {
		text = "ra_regency_liege_conclusion_desc"

		highlight_widget = "scales_of_power_area_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_liege_ending
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_liege_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}
}

reactive_advice_regency_for_regent = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	ra_regency_regent_intro = {
		text = "ra_regency_regent_intro_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_powers
		}
	}

	ra_regency_regent_powers = {
		text = "ra_regency_regent_powers_desc"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_intro
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_open_UI
		}
	}

	ra_regency_regent_open_UI = {
		text = "ra_regency_regent_open_UI_desc"

		interface_effect = {
			close_all_views = yes
		}

		highlight_widget = "open_diarchy_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_powers
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_open_tab
			trigger = {
				custom_tooltip = {
					text = "ra_regency_regent_open_UI_prompt"
					is_widgetid_open = diarchy_window
				}
			}
		}

	}

	ra_regency_regent_open_tab = {
		text = "ra_regency_regent_open_tab_desc"

		animation = far_left

		highlight_widget = liege_tab_tutorial_uses_this

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_open_UI
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_scales_of_power
			trigger = {
				custom_tooltip = {
					text = "ra_regency_regent_open_tab_prompt"
					is_widgetid_open = tutorial_tab_visible_your_liege
				}
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_regent_scales_of_power = {
		text = "ra_regency_regent_scales_of_power_desc"

		highlight_widget = "scales_of_power_area_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_open_tab
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_mandate
		}

		# Player left Liege Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_liege }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}

	}

	ra_regency_regent_mandate = {
		text = "ra_regency_regent_mandate_desc"

		highlight_widget = "mandates_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_scales_of_power
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_ending
		}

		# Player left Liege Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_liege }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_regent_ending = {
		text = "ra_regency_regent_ending_desc"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_mandate
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_regent_conclusion
		}

		# Player left Liege Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_liege }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}

	}


	ra_regency_regent_conclusion = {
		text = "ra_regency_regent_conclusion_desc"

		animation = center
		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_regent_ending
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}



reactive_advice_set_future_regent = {
	delay = 0
	chain = reactive_advice
	start_automatically = no

	ra_regency_future_regent_intro = {
		text = "ra_regency_future_regent_intro_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_open_UI
		}
	}

	ra_regency_future_regent_open_realm_panel = {
		text = "ra_regency_future_regent_open_realm_panel_desc"

		highlight_widget = "tab_my_realm_tutorial_uses_this"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_intro
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_open_UI
			trigger = {
				custom_tooltip = {
					text = "ra_regency_future_regent_open_realm_panel_prompt"
					is_widgetid_open = open_future_diarchy_tutorial_uses_this
				}
			}
		}

	}

	ra_regency_future_regent_open_UI = {
		text = "ra_regency_future_regent_open_UI_desc"

		highlight_widget = "open_future_diarchy_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_open_realm_panel
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_open_tab
			trigger = {
				custom_tooltip = {
					text = "ra_regency_future_regent_open_UI_prompt"
					is_widgetid_open = diarchy_window
				}
			}
		}

		# Player closed Realm Panel, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_realm_panel
			trigger = {
				NOT = { is_widgetid_open = open_future_diarchy_tutorial_uses_this }
			}
		}

	}

	ra_regency_future_regent_open_tab = {
		text = "ra_regency_future_regent_open_tab_desc"

		animation = far_left

		highlight_widget = "your_regent_tab_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_open_UI
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_current_regent
			trigger = {
				custom_tooltip = {
					text = "ra_regency_future_regent_open_tab_prompt"
					is_widgetid_open = tutorial_tab_visible_your_regent
				}
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_future_regent_current_regent = {
		text = "ra_regency_future_regent_current_regent_desc"

		highlight_widget = "regency_portrait_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_open_tab
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_swap_regent
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_future_regent_swap_regent = {
		text = "ra_regency_future_regent_swap_regent_desc"

		highlight_widget = "view_available_diarchs_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_current_regent
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_succession
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_future_regent_succession = {
		text = "ra_regency_future_regent_succession_desc"

		highlight_widget = "regent_succession_tutorial_uses_this"

		animation = far_left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_swap_regent
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_regency_future_regent_conclusion
		}

		# Player left Regent Tab, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_tab
			trigger = {
				NOT = { is_widgetid_open = tutorial_tab_visible_your_regent }
			}
		}

		# Player closed Regency Window, they have to reopen
		trigger_transition = {
			target = ra_regency_future_regent_open_UI
			trigger = {
				NOT = { is_widgetid_open = diarchy_window }
			}
		}
	}

	ra_regency_future_regent_conclusion = {
		text = "ra_regency_future_regent_conclusion_desc"

		animation = far_left

		highlight_widget = "view_available_diarchs_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_regency_future_regent_succession
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_travel_planning = {
	chain = reactive_advice
	start_automatically = no

	# Player closed Travel Window, they have to reopen
	trigger_transition = {
		target = lesson_abort
		trigger = {
			NOT = {
				OR = {
					is_widgetid_open = activity_planner
					is_widgetid_open = travel_planner_window
				}
			}
		}
	}

	ra_travel_planning_intro = {
		text = "ra_travel_planning_intro_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_entourage
		}
	}

	ra_travel_planning_entourage = {
		text = "ra_travel_planning_entourage_desc"
		animation = top_left

		highlight_widget = "entourage_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_intro
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_speed_safety
		}
	}

	ra_travel_planning_speed_safety = {
		text = "ra_travel_planning_speed_safety_desc"
		animation = top_left

		highlight_widget = "speed_safety_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_entourage
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_caravan_master
		}
	}

	ra_travel_planning_caravan_master = {
		text = "ra_travel_planning_caravan_master_desc"
		animation = top_left

		highlight_widget = "caravan_master_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_speed_safety
		}


		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_travel_options
		}
	}

	ra_travel_planning_travel_options = {
		text = "ra_travel_planning_travel_options_desc"
		animation = top_left

		highlight_widget = "travel_options_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_caravan_master
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_custom_route
		}
	}

	ra_travel_planning_custom_route = {
		text = "ra_travel_planning_custom_route_desc"
		animation = top_left

		highlight_widget = "edit_route_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_travel_options
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_travel_planning_conclusion
		}
	}

	ra_travel_planning_conclusion = {
		text = "ra_travel_planning_conclusion_desc"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_travel_planning_custom_route
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}

}


reactive_advice_create_accolade = {
	chain = reactive_advice
	start_automatically = no


	ra_create_accolade_knights_panel = {
		text = "ra_create_accolade_knights_panel_desc"
		animation = left

		highlight_widget = available_accolade_tutorial_uses_this

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_create_accolade_candidates
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_create_accolade_candidates
			trigger = {
				custom_tooltip = {
					text = "ra_create_accolade_knights_panel_prompt"
					is_widgetid_open = create_accolade_tutorial_uses_this
				}
			}
		}

	}

	ra_create_accolade_candidates = {
		text = "ra_create_accolade_candidates_desc"
		animation = left

		highlight_widget = accolade_candidate_list_tutorial_uses_this

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_create_accolade_knights_panel
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_create_accolade_attributes
			trigger = {
				custom_tooltip = {
					text = "ra_create_accolade_candidates_prompt"
					is_widgetid_open = candidate_attributes_tutorial_uses_this
				}
			}
		}

		# Player left creation, have to reopen
		trigger_transition = {
			target = ra_create_accolade_knights_panel
			trigger = {
				NOT = { is_widgetid_open = create_accolade_tutorial_uses_this }
			}
		}
	}

	ra_create_accolade_attributes = {
		text = "ra_create_accolade_attributes_desc"
		animation = left

		highlight_widget = candidate_attributes_tutorial_uses_this

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_create_accolade_candidates
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_create_accolade_conclusion
		}

		# Player left creation, have to reopen
		trigger_transition = {
			target = ra_create_accolade_knights_panel
			trigger = {
				NOT = { is_widgetid_open = create_accolade_tutorial_uses_this }
			}
		}

		# Player left candidate preview, have to reopen
		trigger_transition = {
			target = ra_create_accolade_candidates
			trigger = {
				NOT = { is_widgetid_open = candidate_attributes_tutorial_uses_this }
			}
		}
	}

	ra_create_accolade_conclusion = {
		text = "ra_create_accolade_conclusion_desc"
		animation = left

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_create_accolade_attributes
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}

		# Player left creation, have to reopen
		trigger_transition = {
			target = ra_create_accolade_knights_panel
			trigger = {
				NOT = { is_widgetid_open = create_accolade_tutorial_uses_this }
			}
		}

		# Player left candidate preview, have to reopen
		trigger_transition = {
			target = ra_create_accolade_candidates
			trigger = {
				NOT = { is_widgetid_open = candidate_attributes_tutorial_uses_this }
			}
		}
	}
}

reactive_advice_house_unity = {
	chain = reactive_advice
	start_automatically = no

	ra_house_unity_1 = { # Intro
		text = "ra_house_unity_1_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_house_unity_2
		}
	}

	ra_house_unity_2 = { # Open Panel
		text = "ra_house_unity_2_desc"
		animation = center

		highlight_widget = "house_button"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_house_unity_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_house_unity_3

			trigger = {
				custom_tooltip = {
					text = "ra_house_unity_panel_prompt"
					is_widgetid_open = dynasty_house_view
				}
			}
		}
	}

	ra_house_unity_3 = { # Main Panel
		text = "ra_house_unity_3_desc"
		animation = center

		highlight_widget = "house_unity_panel_widget"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_house_unity_2
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_house_unity_4
		}
	}

	ra_house_unity_4 = { # Effects
		text = "ra_house_unity_4_desc"
		animation = center

		highlight_widget = "house_unity_effects"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_house_unity_3
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_house_unity_5
		}
	}

	ra_house_unity_5 = { # Decisions
		text = "ra_house_unity_5_desc"
		animation = center

		highlight_widget = "house_unity_decisions"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_house_unity_4
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_house_unity_6
		}
	}

	ra_house_unity_6 = { # Conclusion
		text = "ra_house_unity_6_desc"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_house_unity_5
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_tax_collector = {
	chain = reactive_advice
	start_automatically = no

	ra_tax_collector_1 = { # Intro
		text = "ra_tax_collector_1_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tax_collector_2
		}
	}

	ra_tax_collector_2 = { # Open Panel
		text = "ra_tax_collector_2_desc"
		animation = center

		highlight_widget = "tab_tax_jurisdiction"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tax_collector_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tax_collector_3

			trigger = {
				custom_tooltip = {
					text = "ra_tax_collector_panel_prompt"
					is_widgetid_open = window_manage_tax_slots
				}
			}
		}
	}

	ra_tax_collector_3 = { # Main Panel
		text = "ra_tax_collector_3_desc"
		animation = center

		highlight_widget = "tax_collection_top_view"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tax_collector_2
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tax_collector_4
		}
	}

	ra_tax_collector_4 = { # Tax Jurisdiction
		text = "ra_tax_collector_4_desc"
		animation = center

		highlight_widget = "tax_jurisdiction_list"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tax_collector_3
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tax_collector_5
		}
	}

	ra_tax_collector_5 = { # Conclusion
		text = "ra_tax_collector_5_desc"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tax_collector_4
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_legitimacy = {
	chain = reactive_advice
	start_automatically = no

	ra_legitimacy_1 = { # Intro
		text = "ra_legitimacy_1_desc"
		animation = center

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_legitimacy_2
		}
	}

	ra_legitimacy_2 = { # Conclusion
		text = "ra_legitimacy_2_desc"
		animation = center

		highlight_widget = "legitimacy_button"

		interface_effect = {
			close_all_views = yes
		}

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_legitimacy_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_epidemics = {
	chain = reactive_advice
	start_automatically = no

	ra_epidemics_1 = { # Intro
		text = "ra_epidemics_1_desc"
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		highlight_widget = "epidemic_icon"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_epidemics_2
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_epidemics_2

			trigger = {
				custom_tooltip = {
					text = "ra_epidemics_panel_prompt"
					is_widgetid_open = epidemics_window
				}
			}
		}
	}

	ra_epidemics_2 = { # Open Panel
		text = "ra_epidemics_2_desc"
		animation = center

		highlight_widget = "contents"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_epidemics_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_epidemics_3
		}
	}

	ra_epidemics_3 = { # Detail view
		text = "ra_epidemics_3_desc"
		animation = center

		highlight_widget = "view_epidemic_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_epidemics_2
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_epidemics_4

			trigger = {
				custom_tooltip = {
					text = "ra_specific_epidemics_panel_prompt"
					is_widgetid_open = epidemic_in_focus
				}
			}
		}
	}

	ra_epidemics_4 = { # Conclusion
		text = "ra_epidemics_4_desc"
		animation = center

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_epidemics_3
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_legends = {
	chain = reactive_advice
	start_automatically = no

	ra_legends_1 = { # Intro
		text = "ra_legends_1_desc"
		animation = center

		interface_effect = {
			close_all_views = yes
		}

		highlight_widget = "legend_tab"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_legends_2
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_legends_2

			trigger = {
				custom_tooltip = {
					text = "ra_legends_panel_prompt"
					is_widgetid_open = legends_window
				}
			}
		}
	}

	ra_legends_2 = { # Open Panel
		text = "ra_legends_2_desc"
		animation = center

		highlight_widget = "scrollbar_fade"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_legends_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_legends_3
		}
	}

	ra_legends_3 = { # Main Panel
		text = "ra_legends_3_desc"
		animation = center

		highlight_widget = "legends_button_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_legends_2
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_legends_4

			trigger = {
				custom_tooltip = {
					text = "ra_legends_view_panel_prompt"
					is_widgetid_open = completion_rewards
				}
			}
		}
	}

	ra_legends_4 = { # Conclusion
		text = "ra_legends_4_desc"
		animation = right

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_legends_3
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_plague_resistance = {
	chain = reactive_advice
	start_automatically = no

	ra_plague_resistance_1 = { # Intro
		text = "ra_plague_resistance_1_desc"
		animation = center

		highlight_widget = "epidemic_icon"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_plague_resistance_2

			trigger = {
				custom_tooltip = {
					text = "ra_epidemics_panel_prompt"
					is_widgetid_open = epidemics_window
				}
			}
		}
	}

	ra_plague_resistance_2 = { # Open Panel
		text = "ra_plague_resistance_2_desc"
		animation = center

		highlight_widget = "view_epidemic_tutorial_uses_this"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_plague_resistance_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_plague_resistance_3
		}
	}

	ra_plague_resistance_3 = { # End
		text = "ra_plague_resistance_3_desc"
		animation = center

		highlight_widget = "overlay"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_plague_resistance_2
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}

}

reactive_advice_tutorial_schemes = {
	chain = reactive_advice
	start_automatically = no

	trigger = {
		has_global_variable = tutorial_completed # only show in post-tutorial
	}

	ra_tutorial_schemes_1 = {
		pause_game = no
		text = "ra_tutorial_schemes_1_desc"
		highlight_widget = "tab_intrigue"
		highlight_widget = "open_scheme_tab"


		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tutorial_schemes_3
			trigger = {
				custom_description = {
					text = "lesson_basics_intrigue_view_tt"
					is_widgetid_open = intrigue_window
				}
				custom_description = {
					text = "lesson_basics_schemes_tab_tt"
					is_widgetid_open = intrigue_window #for auto-transition to next window...
				}
			}
		}
	}
	ra_tutorial_schemes_2 = {
		pause_game = no
		text = "ra_tutorial_schemes_2_desc"
		animation = center
		shown_in_encyclopedia = no

		highlight_widget = "tab_intrigue"
		highlight_widget = "open_scheme_tab"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = { # Next
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_tutorial_schemes_3
			enabled = {
				custom_description = {
					text = "lesson_basics_intrigue_view_tt"
					is_widgetid_open = intrigue_window
				}
				custom_description = {
					text = "lesson_basics_schemes_tab_tt"
					is_widgetid_open = my_own_schemes
				}
			}
		}
	}
	ra_tutorial_schemes_3 = {
		pause_game = no
		text = "ra_tutorial_schemes_3_desc"
		animation = center

		highlight_widget = "tab_intrigue"
		highlight_widget = "schemes"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_tutorial_schemes_2
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_tutorial_war = {
	chain = reactive_advice
	delay = 0

	# Raise Troops...
	trigger = {
		NOT = { is_tutorial_lesson_completed = reactive_advice_tutorial_war }
		is_at_war = yes
		has_global_variable = tutorial_completed
		any_character_war = {
			casus_belli = {
				primary_attacker = root
			}
		}
	}

	lesson_raise_troops_step_1 = {
		text = "lesson_raise_troops_step_1_desc"
		animation = top_left

		highlight_widget = "tutorial_highlight_raise_troops"
		highlight_widget = "rally_point_button"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish

			enabled = {
				custom_description = {
					text = lesson_raise_troops_tt
					has_raised_armies = yes
				}
			}
		}
		trigger_transition = {
			target = lesson_raise_troops_step_2

			trigger = {
				has_raised_armies = yes
			}
		}
	}
	lesson_raise_troops_step_2 = {
		text = "lesson_raise_troops_step_1_desc"
		shown_in_encyclopedia = no

		effect = {
			add_character_flag = {
				flag = tutorial_raised_troops
				days = 2000
			}
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish

			enabled = {
				custom_description = {
					text = lesson_raise_troops_tt
					has_raised_armies = yes
				}
			}
		}
	}
}

reactive_advice_lesson_army_movement = {
	chain = reactive_advice
	delay = 0

	# Army Movement...
	trigger = {
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_army_movement }
		has_raised_armies = yes
		has_global_variable = tutorial_completed
		any_army = {
			army_is_moving = no
		}
	}

	lesson_army_movement_step_1 = {
		text = "lesson_army_movement_step_1_desc"
		animation = left
		#highlight_widget = "at_war_icon" #Currently deactivated, because it looks like you could click the actual capital holding, which just opens an Interaction menu...
		highlight_widget = "soldiers"

		effect = {
			pan_camera_to_title = title:c_lordaeron
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_army_purpose = {
	chain = reactive_advice
	delay = 0

	# Army Purpose...
	trigger = {
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_army_purpose }
		has_raised_armies = yes
		has_global_variable = tutorial_completed
		any_army = {
			army_is_moving = yes
		}
	}

	lesson_army_purpose_step_1 = {
		text = "lesson_army_purpose_step_1_desc"
		animation = top_left

		#highlight_widget = "tutorial_highlight_raise_troops"
		#highlight_widget = "banner_button"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_battle_mechanics = {
	chain = reactive_advice
	delay = 0

	# Battle Mechanics...
	trigger = {
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_battle_mechanics }
		has_global_variable = tutorial_completed
		OR = {
			any_army = {
				is_army_in_siege = no
				is_army_in_combat = yes
			}
			any_war_enemy = {
				any_army = {
					NOT = { is_army_in_siege_relevant_for = root }
					is_army_in_combat = yes
				}
			}
		}
	}

	lesson_battle_mechanics_step_1 = {
		text = "lesson_battle_mechanics_step_1_desc"
		pause_game = yes
		animation = top_left

		highlight_widget = "combat_widget"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_siege_mechanics = {
	chain = reactive_advice
	delay = 0

	# Siege Mechanics...
	trigger = {
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_siege_mechanics }
		has_raised_armies = yes
		has_global_variable = tutorial_completed
		OR = {
			any_army = {
				is_army_in_siege = yes
				is_army_in_combat = no
			}
			any_war_enemy = {
				any_army = {
					is_army_in_siege_relevant_for = root
					is_army_in_combat = no
				}
			}
		}
	}

	lesson_siege_mechanics_step_1 = {
		text = "lesson_siege_mechanics_step_1_desc"
		pause_game = yes
		animation = right

		highlight_widget = "blocked_icon"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_warscore = {
	chain = reactive_advice
	delay = 0

	# Warscore and War outcomes...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_warscore }
		any_character_war = {
			OR = {
				attacker_war_score > 5
				defender_war_score > 5
			}
			casus_belli = {
				primary_attacker = root
			}
		}
	}

	lesson_warscore_step_1 = {
		text = "lesson_warscore_step_1_desc"
		pause_game = yes
		header_info = "lesson_step_1_of_2"

		highlight_widget = "war_icon"
		highlight_widget = "tutorial_highlight_war_score_details"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = lesson_warscore_step_2
		}
	}
	lesson_warscore_step_2 = {
		text = "lesson_warscore_step_2_desc"
		header_info = "lesson_step_2_of_2"

		highlight_widget = "war_icon"
		highlight_widget = "tab_buttons"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = lesson_warscore_step_1
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_winning_wars = {
	chain = reactive_advice
	delay = 0

	# Win the War...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_winning_wars }
		any_character_war = {
			attacker_war_score > 75
			casus_belli = {
				primary_attacker = root
			}
		}
	}

	lesson_winning_wars_step_1 = {
		text = "lesson_winning_wars_step_1_desc"
		pause_game = yes
		animation = right

		highlight_widget = "war_icon"
		highlight_widget = "tutorial_highlight_war_score_details"
		highlight_widget = "send_button"
		highlight_widget = "victory_button"

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
			enabled = {
				custom_description = {
					text = "lesson_open_war_overview_tt"
					is_widgetid_open = war_overview_window
				}
			}
		}
		trigger_transition = {
			target = lesson_finish
			trigger = {
				is_at_war = no # in case you just end the war before clicking "I Understand" in the lesson
			}
		}
	}
}

reactive_advice_lesson_losing_wars = {
	chain = reactive_advice
	delay = 0

	# Lose the War...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_losing_wars }
		any_character_war = {
			attacker_war_score < -75
			casus_belli = {
				primary_attacker = root
			}
		}
	}

	lesson_losing_wars_step_1 = {
		text = "lesson_losing_wars_step_1_desc"
		pause_game = yes
		animation = bottom_right

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
		trigger_transition = {
			target = lesson_finish
			trigger = {
				is_at_war = no # in case you just end the war before clicking "I Understand" in the lesson
			}
		}
	}
}

reactive_advice_lesson_war_final_notes_victory = {
	chain = reactive_advice
	delay = 0
	shown_in_encyclopedia = no

	# End of War Tutorial (VICTORY)...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_war_final_notes_victory }
		has_war_result_message_with_outcome = victory
	}

	lesson_war_final_notes_victory_step_1 = {
		text = "lesson_war_final_notes_victory_step_1_desc"
		pause_game = yes
		animation = far_left # there is probably a diplomatic message in the center

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_war_final_notes_defeat = {
	chain = reactive_advice
	delay = 0
	shown_in_encyclopedia = no

	# End of War Tutorial (DEFEAT)...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_war_final_notes_defeat }
		has_war_result_message_with_outcome = defeat
	}

	lesson_war_final_notes_defeat_step_1 = {
		text = "lesson_war_final_notes_defeat_step_1_desc"
		pause_game = yes
		animation = far_left # there is probably a diplomatic message in the center

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}

reactive_advice_lesson_war_final_notes_white_peace = {
	chain = reactive_advice
	delay = 0
	shown_in_encyclopedia = no

	# End of War Tutorial (WHITE PEACE)...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_war_final_notes_white_peace }
		has_war_result_message_with_outcome = white_peace
	}

	lesson_war_final_notes_white_peace_step_1 = {
		text = "lesson_war_final_notes_white_peace_step_1_desc"
		pause_game = yes
		animation = far_left # there is probably a diplomatic message in the center

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}
reactive_advice_lesson_war_final_notes_invalidated = {
	chain = reactive_advice
	delay = 0
	shown_in_encyclopedia = no

	# End of War Tutorial...
	trigger = {
		has_global_variable = tutorial_completed
		NOT = { is_tutorial_lesson_completed = reactive_advice_lesson_war_final_notes_invalidated }
		has_war_result_message_with_outcome = invalidated
	}

	lesson_war_final_notes_invalidated_step_1 = {
		text = "lesson_war_final_notes_invalidated_step_1_desc"
		pause_game = yes
		animation = center

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}
reactive_advice_favorite_child = {
	chain = reactive_advice
	start_automatically = no

	ra_favorite_child_1 = { # Intro
		text = "ra_favorite_child_1_desc"
		animation = center

		highlight_widget = "character_window"

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		trigger_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_favorite_child_2

			trigger = {
				custom_tooltip = {
					text = "ra_favorite_child_1_prompt"
					is_widgetid_open = character_window
				}
			}
		}
	}

	ra_favorite_child_2 = { # Open Panel
		text = "ra_favorite_child_2_desc"
		animation = center

		highlight_widget = "children"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_favorite_child_1
		}

		gui_transition = {
			button_id = "skip"
			button_text = "tutorial_lesson_button_skip"
			target = lesson_finish
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_next"
			target = ra_favorite_child_3
		}
	}

	ra_favorite_child_3 = { # End
		text = "ra_favorite_child_3_desc"
		animation = center

		highlight_widget = "favorite_child"

		gui_transition = {
			button_id = "back"
			button_text = "tutorial_lesson_button_back"
			target = ra_favorite_child_2
		}

		gui_transition = {
			button_id = "next"
			button_text = "tutorial_lesson_button_complete"
			target = lesson_finish
		}
	}
}
