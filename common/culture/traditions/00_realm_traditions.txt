#############################
# REALM CULTURAL TRADITIONS #
#############################

tradition_court_eunuchs = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = ceremony.dds
	}

	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_byzantine_succession
			NOT = { culture_tradition:tradition_byzantine_succession = { is_in_list = traits } }
		}
		custom_tooltip = {
			scope:character = {
				OR = {
					any_courtier = {
						has_trait = eunuch
					}
					any_vassal = {
						has_trait = eunuch
					}
					any_councillor = {
						has_trait = eunuch
					}
				}
			}
			text = no_eunuch_in_realms
		}
	}
	
	parameters = {
		can_castrate_prisoners = yes
		eunuch_trait_bonuses = yes
		can_appoint_chief_eunuch = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_councillor = {
								has_trait = eunuch
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = no_eunuch_councillors_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}

	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_councillor = {
							has_trait = eunuch
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_legalistic = {
	category = realm

	layers = {
		0 = learning
		1 = mediterranean
		4 = quill.dds
	}

	is_shown = { # strict laws are heavily tied to the Religion during this era
		#scope:character.faith = {
		#	OR = {
		#		has_doctrine = doctrine_spiritual_head
		#		has_doctrine = doctrine_temporal_head
		#	}
		#}
	}
	
	parameters = {
		cheaper_to_change_laws = yes
		just_trait_more_common = yes
		just_trait_gives_bonuses = yes
		vassals_more_likely_accept_punishments = yes
	}
	character_modifier = {
		title_creation_cost_mult = -0.3
		vassal_limit = 30
		monthly_prestige_gain_per_dread_mult = -0.01
		tyranny_gain_mult = 0.25
		tax_slot_add  = 1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_courtly_desc
				}
			}
			if = {
				limit = {
					NOT = {
						has_innovation = innovation_baliffs
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_baliffs_innovation_desc
				}
			}
			if = {
				limit = {
					NOT = {
						has_innovation = innovation_development_02
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_development_02_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					any_vassal = {
						count < 30
					}
				}
			}
			multiply = 0.5
		}
		if = {
			limit = {
				NOR = {
					has_innovation = innovation_baliffs
					has_innovation = innovation_development_02
				}
			}
			multiply = 0.25
		}
	}
}

tradition_republican_legacy = {
	category = regional

	layers = {
		0 = steward
		1 = mediterranean
		4 = laurel.dds
	}

	is_shown = {
		# Warcraft
		can_have_tradition_republican_legacy_trigger = yes
		
		#	this = culture:roman
		#	any_parent_culture_or_above = {
		#		this = culture:roman
		#	}
		# End of Warcraft
	}
	can_pick = {
		# Warcraft
		custom_tooltip = {
			text = cannot_have_tradition_parochialism
			NOT = { culture_tradition:tradition_parochialism = { is_in_list = traits } }
		}
		# OR ={
		# 	this = culture:roman
		#	any_parent_culture_or_above = {
		#		this = culture:roman
		#	}
		# }
		# End of Warcraft
	}
	
	parameters = {
		can_make_republican_vassals = yes

		# Warcraft
		# unlock_innovation_pike_columns = yes
		# End of Warcraft

		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
		republican_vassals_pay_more = yes
		more_parochial_vassals = yes
	}
	character_modifier = {
		city_holding_build_gold_cost = -0.05
		city_holding_holding_build_gold_cost = -0.05
		barons_and_minor_landholders_opinion = -20
		parochial_opinion = -20
		parochial_tax_contribution_mult = 0.1
		parochial_levy_contribution_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							government_has_flag = government_is_republic
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hereditary_hierarchy = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = king.dds
	}
	
	can_pick = {
		scope:character = {
			government_has_flag = government_is_feudal
		}
	}
	
	parameters = {
		poorly_educated_leaders_distrusted = yes
		loyal_trait_more_valued = yes
	}
	character_modifier = {
		castle_holding_holding_build_gold_cost = -0.05
		feudal_government_tax_contribution_mult = 0.1
		long_reign_bonus_mult = 0.25
		tyranny_loss_mult = -0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							primary_title.tier >= tier_kingdom
							any_vassal = {
								count >= 10
								primary_title.tier >= tier_county
								government_has_flag = government_is_feudal
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = king_with_vassals_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character.primary_title.tier >= tier_kingdom
				}
			}
			multiply = 0
		}
	}
}

tradition_esteemed_hospitality = {
	category = realm

	layers = {
		0 = diplo
		1 = mena
		4 = greeting.dds
	}
	
	is_shown = {
	}
	can_pick = {
	}
	
	parameters = {
		courtiers_and_guests_less_likely_to_join_schemes = yes
		cheaper_guest_recruitment = yes
		cheaper_court_positions = yes
		more_hostage_acceptance = yes
	}
	character_modifier = {
		courtier_and_guest_opinion = 10
		owned_personal_scheme_success_chance_add = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						# Warcraft
						like_heritage_iranian_trigger = yes 
						# End of Warcraft
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = iranian_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				culture_pillar:ethos_bellicose = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_gardening = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = garden_architects.dds
	}
	
	parameters = {
		enable_garden_duchy_building = yes
		can_appoint_court_gardener = yes
		can_recruit_gardeners = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 10
							any_county_province = {
								OR = {
									has_building_or_higher = orchards_01
									has_building_or_higher = plantations_01
									has_building_or_higher = cereal_fields_01
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = gardening_buildings_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_tribe_unity = {
	category = realm

	layers = {
		0 = martial
		1 = mena
		4 = crown.dds
	}
	
	is_shown = { #Replaced by Strong Kinship
		# Warcraft
		# NOR = {
		#	this = culture:gaelic
		#	this = culture:scottish
		#	any_parent_culture_or_above = {
		#		OR = {
		#			this = culture:gaelic
		#			this = culture:scottish
		#		}
		#	}
		# }
		# End of Warcraft
		always = yes
	}
	can_pick = {
		custom_tooltip = {
			text = requires_tribal_or_clan_government_trigger
			scope:character = {
				OR = {
					government_has_flag = government_is_clan
					government_has_flag = government_is_tribal
				}
			}
		}
	}
	
	parameters = {
		bonuses_from_patriarch_matriarch_trait = yes
		cultural_house_personal_scheme_success_chance = yes
		landing_house_members_give_prestige = yes
		penalty_for_revoking_titles_from_house_members = yes
		loyal_trait_more_valued = yes
	}
	character_modifier = {
		dynasty_house_opinion = 10
		opinion_of_liege = -5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					exists = scope:character.house
					NOT = {
						scope:character.house = {
							any_house_member = {
								count >= 3
								has_relation_friend = scope:character
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = house_friends_desc
				}
			}
			if = {
				limit = {
					has_variable = defensive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						OR = {
							government_has_flag = government_is_clan
							government_has_flag = government_is_tribal
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_astute_diplomats = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = diplomat.dds
	}
	
	parameters = {
		cannot_attack_allies = yes
		cannot_attack_truces = yes
		facilitate_alliance_acceptance = yes
		facilitate_white_peace = yes
		extra_language_cap_2 = yes
	}
	character_modifier = {
		learn_language_scheme_power_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { value = 100 }
}

tradition_collective_lands = {
	category = realm

	layers = {
		0 = learning
		1 = indian
		4 = farmland.dds
	}
	
	can_pick = {
		# Warcraft
		custom_tooltip = {
			text = cannot_have_tradition_ruling_caste
			NOT = { culture_tradition:tradition_ruling_caste = { is_in_list = traits } }
		}
		# End of Warcraft
	}
	
	parameters = {
		grants_to_lowborns_bonuses = yes
	}
	county_modifier = {
		development_growth_factor = 0.2
		monthly_county_control_growth_factor = -0.2
		build_speed = 0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_egalitarian_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 2
								culture = prev
								primary_title.tier >= tier_county
								has_trait = peasant_leader
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_peasant_leader_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						OR = {
							has_trait = peasant_leader
							any_parent = {
								has_trait = peasant_leader
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_female_only_inheritance = {
	category = realm

	layers = {
		0 = learning
		1 = indian
		4 = crown.dds
	}

	is_shown = {
		NOT = { has_game_rule = inversed_gender_equality }
	}
	
	can_pick = {
		custom_tooltip = {
			NOT = { culture_tradition:tradition_nubian_warrior_queens = { is_in_list = traits } }
			OR = {
				# Warcraft
				culture_female_landowners_common_trigger = yes
				# End of Warcraft
				scope:character.faith = {
					has_doctrine_parameter = female_dominated_law
				}
			}
			text = tradition_female_only_inheritance_requirements
		}
		scope:character = {
			primary_title = {
				NOR = {
					has_title_law = male_only_law
					has_title_law = male_preference_law
				}
			}
			NOR = {
				has_realm_law = male_only_law
				has_realm_law = male_preference_law
			}
		}
	}
	
	parameters = {
		female_only_inheritance = yes
		female_preference_inheritance = yes
	}
	character_modifier = {
		opinion_of_female_rulers = 10
		opinion_of_male_rulers = -10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						has_game_rule = inversed_gender_equality
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = five_female_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 25
		if = {
			limit = {
				NOT = {
					scope:character = {
						is_female = yes
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_equal_inheritance = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = crown.dds
	}

	can_pick = {
		# Warcraft
		custom_tooltip = {
			text = cannot_have_tradition_nubian_warrior_queens
			NOT = { culture_tradition:tradition_nubian_warrior_queens = { is_in_list = traits } }
		}
		# End of Warcraft
	}
	
	parameters = {
		gender_equal_inheritance = yes
	}
	doctrine_character_modifier = {
		name = tradition_equal_inheritance_name
		doctrine = doctrine_gender_male_dominated
		opinion_of_female_rulers = 10
	}
	doctrine_character_modifier = {
		name = tradition_equal_inheritance_name
		doctrine = doctrine_gender_female_dominated
		opinion_of_male_rulers = 10
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NAND = {
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_male = yes
							}
							any_ruler = {
								count >= 3
								culture = prev
								primary_title.tier >= tier_county
								is_female = yes
							}
						}
					}
					trigger_else = {
						always = yes
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = three_gender_rulers_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 25
		if = {
			limit = {
				NOR = {
					scope:character = {
						is_female = yes
						faith = {
							has_doctrine_parameter = male_dominated_law
						}
					}
					scope:character = {
						is_male = yes
						faith = {
							has_doctrine_parameter = female_dominated_law
						}
					}
				}
			}
			multiply = 0
		}
	}
}

# Warcraft
# tradition_roman_legacy = {}
# End of Warcraft

tradition_metal_craftsmanship = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = tools.dds
	}
	
	parameters = {
		better_armory_buildings = yes
		better_blacksmith_buildings = yes
	}
	character_modifier = {
		army_toughness_mult = 0.05
		army_maintenance_mult = 0.05
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_bureaucratic_or_stoic_desc
				}
			}
			# Warcraft
			#if = {
			#	limit = {
			#		NOT = {
			#			any_culture_county = {
			#				count >= 1
			#				any_county_province = {
			#					OR = {
			#						has_building_or_higher = rammelsberg_mines_01
			#						has_building_or_higher = kutna_hora_mines_01
			#						has_building_or_higher = kremnica_mines_01
			#						has_building_or_higher = falun_mines_01
			#						has_building_or_higher = schwaz_mines_01
			#						has_building_or_higher = argentiera_mines_01
			#						has_building_or_higher = kollur_mines_01
			#						has_building_or_higher = siderokausia_mines_01
			#						has_building_or_higher = mali_mines_01
			#					}
			#				}
			#			}
			#		}
			#	}
			#	add = {
			#		value = tradition_unfulfilled_criteria_penalty
			#		desc = has_a_special_mine_desc
			#	}
			#}
			# End of Warcraft
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					any_culture_county = {
						count >= 1
						any_county_province = {
							OR = {
								has_building_or_higher = blacksmiths_01
								has_building_or_higher = royal_armory_01
							}
						}
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_family_entrepreneurship = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = noble.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = not_numerous_close_family_desc
			scope:character = {
				any_close_family_member = {
					count >= 10
					is_alive = yes
				}
			}
		}
	}
	
	parameters = {
		close_family_better_councillors = yes
		close_family_better_court_positions = yes
		penalty_for_revoking_titles_from_close_family = yes
	}
	character_modifier = {
		close_relative_opinion = 5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_courtly_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							scope:character = {
								any_close_family_member = {
									percent > 0.5
									save_temporary_opinion_value_as = { name = target_opinion target = scope:character }		
									scope:target_opinion >= 80
								}
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = not_strong_opinion_close_family_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					# Warcraft
					like_heritage_west_african_trigger = yes
					like_heritage_central_african_trigger = yes
					like_heritage_chinese_trigger = yes
					like_indo_aryan_culture_trigger = yes
					# End of Warcraft
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					any_close_family_member = {
						count < 15
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_wedding_ceremonies = {
	category = realm

	layers = {
		0 = diplo
		1 = indian
		4 = greeting.dds
	}
	
	parameters = {
		better_spouses = yes
		marriage_acceptance_bonus = yes
		cannot_divorce = yes
		adulterer_fornicator_penalties = yes
		hostile_scheme_success_chance_vs_spouse_penalty = yes
	}

	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						any_ruler = {
							count >= 5
							primary_title.tier >= tier_county
							culture = prev
							has_trait = adulterer
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_adulterer_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOR = {
					culture_pillar:ethos_courtly = { is_in_list = traits }
					culture_pillar:ethos_communal = { is_in_list = traits }
					culture_pillar:ethos_spiritual = { is_in_list = traits }
				}
			}
			multiply = 0
		}
	}
}

tradition_culture_blending = {
	category = realm
	
	layers = {
		0 = learning
		1 = indian
		4 = conversation.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	
	parameters = {
		cheaper_to_hybridize = yes
		learns_more_languages = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = 0.25
	}
	character_modifier = {
		max_learn_language_schemes_add = 1
		learn_language_scheme_power_mult = 0.3
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_or_egalitarian_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.3
								NOT = { culture = root }
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = multiple_cultures_in_realm_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				is_divergent_culture = no
			}
			multiply = 0
		}
	}
}

tradition_isolationist = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = noble.dds
	}
	
	parameters = {
		courtiers_less_likely_to_leave_same_culture_court = yes
		dislikes_marrying_outside_of_culture = yes
		ai_doesnt_marry_outside_culture = yes
		less_plague_spread_culture = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.35
	}
	character_modifier = {
		diplomatic_range_mult = -0.25
		same_culture_opinion = 5
		
		ai_war_chance = -0.5
		ai_war_cooldown = 5
	}
	county_modifier = {
		monthly_county_control_growth_add = 0.5
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_neighboring_county = {
								NOT = {
									culture = scope:character.culture
								}
								culture = {
									cultural_acceptance = { target = scope:character.culture value >= 40 }
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = non_tolerated_cultures_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_fervent_temple_builders = {
	category = realm

	layers = {
		0 = learning
		1 = mediterranean
		4 = temple.dds
	}

	can_pick = {
		custom_tooltip = {
			any_culture_county = {
				percent >= 0.2
				any_county_province = {
					has_holding_type = church_holding
				}
			}
			text = 20_percent_churches
		}
	}
	
	parameters = {
		more_fervor_on_church_construction = yes
		prestige_from_temple_construction = yes
		build_bonuses_on_religious_traits = yes
	}
	character_modifier = {
		ai_zeal = 25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					trigger_if = {
						limit = {
							scope:character = {
								is_ai = no
							}
						}
						NOT = {
							any_ruler = {
								count >= 5
								culture = prev
								primary_title.tier >= tier_county
								faith = scope:character.faith
								has_trait = zealous
							}
						}
					}
					trigger_else = {
						always = no
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = rulers_with_same_faith_zealous_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_agrarian = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = farmland.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_farmlands_or_floodplains_terrain_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = farmlands
						terrain = floodplains
					}
				}
			}
		}
	}
	
	parameters = {
		content_trait_more_common = yes
		martial_education_worse_outcomes = yes
		hard_working_traits_more_valued = yes
	}
	character_modifier = {
		men_at_arms_recruitment_cost = 0.25
		prowess = -2
		floodplains_travel_danger = floodplains_medium_danger_reduction
	}
	county_modifier = {
		farmlands_development_growth_factor = 0.3
		farmlands_construction_gold_cost = -0.1
		floodplains_development_growth_factor = 0.3
		floodplains_construction_gold_cost = -0.1
		farmlands_levy_size = 0.1
		floodplains_levy_size = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 5
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_farmlands_or_floodplains_terrain_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = farmlands
									terrain = floodplains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = {
					government_has_flag = government_is_tribal
				}
			}
			multiply = 0
		}
	}
}

tradition_pastoralists = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = horses.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_plains_or_steppe_terrain_desc
			any_culture_county = {
				percent >= 0.4
				any_county_province = {
					OR = {
						terrain = plains
						terrain = steppe
						# Warcraft
						steppe_region_trigger = yes
						# End of Warcraft
					}
				}
			}
		}
	}
	
	parameters = {
		pastures_building_bonuses = yes
	}
	character_modifier = {
		negate_health_penalty_add = 0.15
		prowess = 1
		character_travel_speed_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_communal_desc
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.6
							any_county_province = {
								OR = {
									terrain = plains
									terrain = steppe
									steppe_region_trigger = yes
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_plains_or_steppe_terrain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.6
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = plains
									terrain = steppe
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_parochialism = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = city.dds
	}
	
	# Warcraft
	# Replaced by tradition_republican_legacy (Meritocracy)
	is_shown = {
		can_have_tradition_republican_legacy_trigger = no
		
		# NOR ={
			# this = culture:roman
			# any_parent_culture_or_above = {
			#	this = culture:roman
			# }
		# }
	}
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_republican_legacy
			NOT = { culture_tradition:tradition_republican_legacy = { is_in_list = traits } }
		}
	#	NOR ={
	#		this = culture:roman
	#		any_parent_culture_or_above = {
	#			this = culture:roman
	#		}
	#	}
	}
	# End of Warcraft
	
	parameters = {
		city_buildings_more_powerful = yes
		city_buildings_less_control = yes
		more_parochial_vassals = yes
	}
	character_modifier = {
		city_holding_build_gold_cost = -0.05
		city_holding_holding_build_gold_cost = -0.05
		barons_and_minor_landholders_opinion = -20
		parochial_opinion = -20
		parochial_tax_contribution_mult = 0.1
		parochial_levy_contribution_mult = 0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_courtly_communal_or_spiritual_desc
				}
			}
			if = {
				limit = {
					NOT = {
						scope:character = {
							any_sub_realm_county = {
								percent >= 0.9
								culture = scope:character.culture
								any_county_province = {
									has_holding_type = city_holding
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = 90_percent_cities_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.15
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding
							}
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_vassal = {
							primary_title.tier > tier_county
							government_has_flag = government_is_republic
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_ruling_caste = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = king.dds
	}
	
	# Warcraft
	can_pick = {
		custom_tooltip = {
			text = cannot_have_tradition_collective_lands
			NOT = { culture_tradition:tradition_collective_lands = { is_in_list = traits } }
		}
	}
	# End of Warcraft
	
	parameters = {
		peasant_and_populist_factions_less_common = yes
	}
	culture_modifier = {
		cultural_acceptance_gain_mult = -0.25
	}
	character_modifier = {
		dread_per_tyranny_add = 0.3
		dread_decay_mult = -0.3
		revolting_siege_morale_loss_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_courtly_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_councillor = {
							NOR = {
								culture = scope:character.culture
								is_spouse_of = scope:character # Might be hard to have the right culture for the Spouse; but we can remove this helper if needed
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_council_desc
				}
			}
			if = {
				limit = {
					has_variable = aggressive_traditionalist_discount
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 100
		if = {
			limit = {
				scope:character.dread < 25
			}
			multiply = 0.5
		}
		if = {
			limit = {
				scope:character.tyranny < 25
			}
			multiply = 0.5
		}
	}
}

tradition_staunch_traditionalists = {
	category = realm

	layers = {
		0 = intrigue
		1 = western
		4 = king.dds
	}
	
	is_shown = {
		has_dlc_feature = hybridize_culture
	}
	can_pick = {
		NOT = {
		has_cultural_tradition = tradition_fp3_fierce_independence
		}
	}
	
	parameters = {
		stubborn_trait_more_common = yes
		expensive_convert_to_local_culture = yes
		harder_to_hybridize = yes
	}
	character_modifier = {
		controlled_province_advantage = 5
		monthly_county_control_growth_add = 0.3
		cultural_head_fascination_mult = -0.05
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_communal = { is_in_list = traits }
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_communal_spiritual_or_stoic_desc
				}
			}
			if = {
				limit = {
					scope:character = {
						any_sub_realm_county = {
							NOT = {
								culture = scope:character.culture
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = has_other_cultures_in_realm_desc
				}
			}
			if = {
				limit = {
					OR = {
						has_variable = defensive_traditionalist_discount
						has_variable = aggressive_traditionalist_discount
					}
				}
				add = {
					value = traditionalist_discount
					desc = traditionalist_discount_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					is_divergent_culture = yes
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				culture_pillar:ethos_egalitarian = { is_in_list = traits }
			}
			multiply = 0
		}
	}
}

tradition_hill_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = desert_mountains.dds
	}

	# Warcraft
	is_shown = { #Cannot be picked if you have access to Highland Farming
		always = yes
		# NOT = { has_cultural_tradition = tradition_amharic_highlanders }
		# NOR = {
			# this = culture:ethiopian
			# any_parent_culture_or_above = {
			# 	this = culture:ethiopian
		# 	}
		# }
	}
	# End of Warcraft
	can_pick = {
		custom_description = {
			text = culture_in_hills_desc
			any_culture_county = {
				any_county_province = {
					terrain = hills
				}
			}
		}
	}
	
	parameters = {
		hill_farms_building_bonuses = yes
		hills_hunt_success_chance = yes
	}
	character_modifier = {
		hills_travel_danger = hills_medium_danger_reduction
	}
	county_modifier = {
		hills_development_growth_factor = 0.2
	}
	province_modifier = {
		hills_construction_gold_cost = -0.1
		hills_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = hill_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = hills
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_forest_folk = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = forest.dds
	}

	is_shown = {
		NOR = { #These cultures instead get Forest Wardens Tradition
			# Warcraft
			like_heritage_balto_finnic_trigger = yes
			like_heritage_volga_finnic_trigger = yes
			like_heritage_ugro_permian_trigger = yes
			like_heritage_baltic_trigger = yes
			# End of Warcraft
			has_cultural_tradition = tradition_forest_wardens
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_forest_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = forest
						terrain = taiga
					}
				}
			}
		}
	}
	
	parameters = {
		logging_camps_building_bonuses = yes
		forest_hunt_success_chance = yes
	}
	character_modifier = {
		forest_travel_danger = forest_medium_danger_reduction
		taiga_travel_danger = taiga_medium_danger_reduction
	}
	county_modifier = {
		forest_development_growth_factor = 0.15
		taiga_development_growth_factor = 0.15
	}
	province_modifier = {
		forest_construction_gold_cost = -0.1
		taiga_construction_gold_cost = -0.1
		forest_holding_construction_gold_cost = -0.1
		taiga_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = forest_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = forest
									terrain = taiga
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_mountain_homes = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = mountain.dds
	}
	
	is_shown = {
		NOR = { #This is replaced by Himalayan Settlers, and Mountain Herding. 
			# Warcraft
			like_heritage_tibetan_trigger = yes
			like_heritage_arabic_trigger = yes
			like_heritage_berber_trigger = yes
			like_heritage_tibetan_trigger = yes
			like_heritage_qiangic_trigger = yes
			# End of Warcraft
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_mountains_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = mountains
						terrain = desert_mountains
					}
				}
			}
		}
	}

	parameters = {
		quarries_building_bonuses = yes
		prestige_gain_on_building_complete_in_mountains = yes
		mountains_hunt_success_chance = yes
	}
	character_modifier = {
		mountains_travel_danger = mountains_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	county_modifier = {
		mountains_development_growth_factor = 0.2
		desert_mountains_development_growth_factor = 0.35
	}
	province_modifier = {
		mountains_construction_gold_cost = -0.1
		desert_mountains_construction_gold_cost = -0.1
		mountains_holding_construction_gold_cost = -0.1
		desert_mountains_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = mountain_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_dryland_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = desert.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_in_dryland_desc
			any_culture_county = {
				any_county_province = {
					OR = {
						terrain = drylands
						terrain = desert
					}
				}
			}
		}
		custom_tooltip = { #FP3 addition
			text = cannot_have_tradition_irrigation_experts
			NOT = { culture_tradition:tradition_fp3_irrigation_experts = { is_in_list = traits } }
		}
	}
	
	parameters = {
		plantations_building_bonuses = yes
		drylands_hunt_success_chance = yes
	}
	character_modifier = {
		desert_travel_danger = desert_medium_danger_reduction
		drylands_travel_danger = drylands_medium_danger_reduction
		desert_mountains_travel_danger = desert_mountains_medium_danger_reduction
	}
	county_modifier = {
		desert_development_growth_factor = 0.35
		drylands_development_growth_factor = 0.15
	}
	province_modifier = {
		desert_construction_gold_cost = -0.1
		drylands_construction_gold_cost = -0.1
		desert_holding_construction_gold_cost = -0.1
		drylands_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = dry_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								OR = {
									terrain = drylands
									terrain = desert
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_jungle_dwellers = {
	category = realm

	layers = {
		0 = steward
		1 = indian
		4 = jungle.dds
	}
	
	is_shown = {
		NOR = {
			# Warcraft
			# like_heritage_akan_trigger = yes
			# like_heritage_yoruba_trigger = yes
			# End of Warcraft
			
			can_have_tradition_hidden_cities_trigger = yes
			
			# Warcraft - Shendralar Highborne
			AND = {
				has_cultural_pillar = heritage_highborne
				scope:character = {
					any_sub_realm_county = {
						title_province = {
							geographical_region = world_kalimdor_south_feralas
						}
					}
				}
			}
			# End of Warcraft
		}
	}
	can_pick = {
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	
	parameters = {
		outposts_building_bonuses = yes
		jungle_hunt_success_chance = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_medium_danger_reduction
	}
	county_modifier = {
		jungle_development_growth_factor = 0.25
	}
	province_modifier = {
		jungle_construction_gold_cost = -0.1
		jungle_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.2
							culture = scope:character.culture
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_wetlanders = {
	category = realm

	layers = {
		0 = diplo
		1 = western
		4 = svamp.dds
	}
	
	can_pick = {
		custom_tooltip = {
			text = culture_in_wetlands_desc
			any_culture_county = {
				any_county_province = {
					terrain = wetlands
				}
			}
		}
	}
	
	parameters = {
		peat_quarries_building_bonuses = yes
		wetlands_hunt_success_chance = yes
	}
	character_modifier = {
		wetlands_advantage = 10
		wetlands_travel_danger = wetlands_high_danger_reduction
		floodplains_travel_danger = floodplains_high_danger_reduction
	}
	county_modifier = {
		wetlands_development_growth_factor = 0.25
	}
	province_modifier = {
		wetlands_construction_gold_cost = -0.15
		wetlands_holding_construction_gold_cost = -0.15
		wetlands_levy_size = 0.1
		wetlands_supply_limit_mult = 0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					culture_pillar:ethos_bellicose = { is_in_list = traits }
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = culture_not_bellicose
				}
			}
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							count >= 3
							any_county_province = {
								terrain = wetlands
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = culture_in_wetlands_count_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							count >= 3
							culture = scope:character.culture
							any_county_province = {
								terrain = wetlands
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_hidden_cities = {
	category = realm

	layers = {
		0 = steward
		1 = mena
		4 = city2.dds
	}

	is_shown = {
		OR = {
			# Warcraft
			can_have_tradition_hidden_cities_trigger = yes
			
			# like_heritage_akan_trigger = yes
			# like_heritage_yoruba_trigger = yes
			
			# Shendralar Highborne
			AND = {
				has_cultural_pillar = heritage_highborne
				scope:character = {
					any_sub_realm_county = {
						title_province = {
							geographical_region = world_kalimdor_south_feralas
						}
					}
				}
			}
			# End of Warcraft
		}
		NOT = { has_cultural_tradition = tradition_jungle_dwellers }
	}
	can_pick = {
		custom_description = {
			text = culture_in_jungle_desc
			any_culture_county = {
				any_county_province = {
					terrain = jungle
				}
			}
		}
	}
	
	parameters = {
		tribal_holding_fort_level_in_jungle_bonus = yes
		castle_holding_fort_level_in_jungle_bonus = yes
	}
	character_modifier = {
		jungle_travel_danger = jungle_high_danger_reduction
	}
	county_modifier = {
		jungle_development_growth_factor = 0.35
	}
	province_modifier = {
		jungle_construction_gold_cost = -0.1
		jungle_holding_construction_gold_cost = -0.1
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			if = {
				limit = {
					NOT = {	culture_pillar:ethos_bureaucratic = { is_in_list = traits }	}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_inventive_desc
				}
			}	
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								terrain = jungle
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = jungle_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant		
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					any_culture_county = {
						percent >= 0.3
						any_county_province = {
							terrain = jungle
						}
					}
				}
			}
			multiply = 0
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
								has_holding_type = city_holding 
								terrain = jungle
							}
						}
					}
				}
			}
			multiply = 0.25
		}
	}
}

tradition_ancient_miners = {
	category = realm

	is_shown = {
		# Warcraft
		can_have_tradition_ancient_miners_trigger = yes
		# End of Warcraft
	}
	
	layers = {
		0 = martial
		1 = mediterranean
		4 = tools.dds
	}
	
	parameters = {
		quarries_building_bonuses = yes
		can_build_quarries_in_hills = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							culture = scope:character.culture
							any_county_province = {
							
								# Warcraft
								OR = {
									terrain = hills
									terrain = mountains
									terrain = desert_mountains
								}
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_castle_keepers = {
	category = realm

	layers = {
		0 = martial
		1 = western
		4 = city.dds
	}
	
	can_pick = {
		#custom_tooltip = {
		#	scope:character = {
		#		# Warcraft
		#		has_monarchy_government_trigger = yes
		#		# End of Warcraft
		#	}
		#	text = must_be_feudal_or_clan
		#}
		custom_tooltip = {
			text = cannot_have_tradition_city_keepers
			NOT = {
				culture_tradition:tradition_city_keepers = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		castle_fortifications_increase = yes
		castle_grant_prestige = yes
		architect_trait_prestige = yes
		ai_more_likely_to_castle = yes
		ai_more_likely_to_fortify = yes
	}
	character_modifier = {
		castle_holding_holding_build_speed = 0.1
		castle_holding_holding_build_gold_cost = 0.2
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirements.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bellicose = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bellicose_stoic_or_bureaucratic_desc
				}
			}
			# Requires battlements innovation.
			if = {
				limit = {
					NOT = { has_innovation = innovation_battlements }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_battlements_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 100 
		if = {
			limit = {
				NOT = { has_innovation = innovation_battlements }
			}
			multiply = 0
		}
		if = {
			limit = {
				scope:character = { ai_boldness >= 0 }
			}
			multiply = 0.25
		}
	}
}

tradition_city_keepers = {
	category = realm

	layers = {
		0 = steward
		1 = mediterranean
		4 = city.dds
	}
	
	can_pick = {
		#custom_tooltip = {
		#	scope:character = {
		#		# Warcraft
		#		has_monarchy_government_trigger = yes
		#		# End of Warcraft
		#	}
		#	text = must_be_feudal_or_clan
		#}
		custom_tooltip = {
			text = cannot_have_tradition_castle_keepers
			NOT = {
				culture_tradition:tradition_castle_keepers = { is_in_list = traits }
			}
		}
	}
	
	parameters = {
		next_level_guild_halls = yes
		city_buildings_more_county_opinion = yes
		ai_more_likely_to_city = yes
		architect_trait_prestige = yes
	}
	character_modifier = {
		city_holding_build_speed = -0.25
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirements.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
						culture_pillar:ethos_courtly = { is_in_list = traits }
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_bureaucratic_courtly_or_egalitarian_desc
				}
			}
			# Requires communal government innovation.
			if = {
				limit = {
					NOT = { has_innovation = innovation_development_02 }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_development_02_innovation_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { 
		value = 25
		add = {
			value = scope:character.ai_sociability
			divide = 2
		}
		if = {
			limit = {
				NOT = { has_innovation = innovation_development_02 }
			}
			multiply = 0
		}
	}
}

tradition_maritime_mercantilism = {
	category = realm

	layers = {
		0 = diplo
		1 = mediterranean
		4 = ship.dds
	}
	
	can_pick = {
		custom_description = {
			text = culture_on_coast_desc
			any_culture_county = {
				any_county_province = {
					is_coastal = yes
				}
			}
		}
	}
	
	parameters = {
		next_level_trade_ports = yes
		maritime_mercantilism_coastal_holdings = yes
	}
	character_modifier = {
		republic_government_vassal_opinion = 10
		sea_travel_danger = low_sea_danger_reduction
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_egalitarian = { is_in_list = traits }
						culture_pillar:ethos_stoic = { is_in_list = traits }
						culture_pillar:ethos_bureaucratic = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_egalitarian_stoic_or_bureaucratic_desc
				}
			}
			# Coastal requirement.
			if = {
				limit = {
					NOT = {
						any_culture_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = coastal_percentage_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = {
		value = 100
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						percent >= 0.6
						any_county_province = {
							is_coastal = yes
						}
					}
				}
			}
			add = 50
		}
		if = { # Make stacking a bit less common
			limit = {
				OR = {
					culture_tradition:tradition_seafaring = { is_in_list = traits }
					culture_tradition:tradition_fishermen = { is_in_list = traits }
				}
			}
			multiply = 0.75
		}
		if = {
			limit = {
				NOT = {
					scope:character = {
						any_sub_realm_county = {
							percent >= 0.3
							any_county_province = {
								is_coastal = yes
							}
						}
					}
				}
			}
			multiply = 0
		}
	}
}

tradition_monastic_communities = {
	category = realm

	layers = {
		0 = intrigue
		1 = mediterranean
		4 = temple.dds
	}
	
	can_pick = {
		OR = {
			scope:character = {
				faith = {
					has_doctrine_parameter = take_vows_active
				}
			}
			# Warcraft
			AND = {
				culture_pillar:ethos_spiritual = { is_in_list = traits }
				
				scope:character = {
					any_sub_realm_county = {
						title_province = {
							geographical_region = world_pandaria
						}
					}
				}
			}
		}
		#  End of Warcraft
	}
	
	parameters = {
		temperate_trait_more_common = yes # Synergy with Monastic Doctrines
		temperate_trait_bonuses = yes
		devoted_trait_bonuses = yes
		monastic_expectations = yes
	}
	
	cost = {
		prestige = {
			add = {
				value = tradition_base_cost
				desc = BASE
				format = "BASE_VALUE_FORMAT"
			}
			# Ethos requirement.
			if = {
				limit = {
					NOR = {
						culture_pillar:ethos_spiritual = { is_in_list = traits }
						culture_pillar:ethos_communal = { is_in_list = traits }
					}
				}
				add = {
					value = tradition_incompatible_ethos_penalty
					desc = not_spiritual_or_communal_desc
				}
			}
			# Piety level requirement.
			if = {
				limit = {
					NOT = { scope:character.piety_level >= high_piety_level }
				}
				add = {
					value = tradition_unfulfilled_criteria_penalty
					desc = lacks_high_piety_level_desc
				}
			}
			
			multiply = tradition_replacement_cost_if_relevant
		}
	}
	
	ai_will_do = { # not the most interesting tradition from an AI POV
		value = 25
		if = {
			limit = {
				# Warcraft
				NOT = { like_heritage_goidelic_trigger = yes }
				# End of Warcraft
			}
			multiply = 0
		}
		# Warcraft
		if = {
			limit = {
				scope:character = {
					any_sub_realm_county = {
						title_province = {
							geographical_region = world_pandaria
						}
					}
				}
			}
			add = 75
		}
		# End of Warcraft
	}
}
