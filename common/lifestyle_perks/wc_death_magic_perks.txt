death_magic_tree_1_perk_1 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 2 0 }
	icon = node_learning

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_1 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_raise_dead
		wc_learn_spell_effect = {
			SPELL = raise_dead
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_2 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 0.75 0.75 }
	icon = node_learning

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_1 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_death_coil
		wc_learn_spell_effect = {
			SPELL = death_coil
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_3 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 3.25 0.75 }
	icon = node_learning

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_1 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_frost_presence_effect
		custom_tooltip = wc_frost_fever_disease_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_4 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 4 1.75 }
	icon = node_learning

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_1 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 1 } }
			}
			multiply = 0
		}
	}

	character_modifier = {
		enemy_hard_casualty_modifier = 0.1
	}

	effect = {
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_5 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 0 2.25 }
	icon = node_learning

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_1 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 1 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_death_grip
		wc_learn_spell_effect = {
			SPELL = death_grip
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_6 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 2 3 }
	icon = node_learning

	parent = death_magic_tree_1_perk_1
	parent = death_magic_tree_1_perk_2
	parent = death_magic_tree_1_perk_3
	parent = death_magic_tree_1_perk_4
	parent = death_magic_tree_1_perk_5

	effect = {
		custom_tooltip = wc_eternal_suffering_effect
		custom_tooltip = wc_eternal_suffering_raise_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_7 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 1 4 }
	icon = node_learning

	parent = death_magic_tree_1_perk_6

	effect = {
		custom_tooltip = wc_death_pact_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_8 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 3 4 }
	icon = node_learning

	parent = death_magic_tree_1_perk_6

	effect = {
		custom_tooltip = wc_fleshcrafting_effect
		custom_tooltip = wc_fleshcrafting_raise_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_1_perk_9 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_1
	position = { 2 5 }
	icon = node_learning

	parent = death_magic_tree_1_perk_7
	parent = death_magic_tree_1_perk_8

	effect = {
		custom_tooltip = wc_learn_spell_supreme_raise_dead
		wc_learn_spell_effect = {
			SPELL = supreme_raise_dead
		}
		custom_tooltip = wc_learn_spell_army_of_the_dead
		wc_learn_spell_effect = {
			SPELL = army_of_the_dead
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}

death_magic_tree_2_perk_1 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 0 0 }
	icon = node_stewardship

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_2 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 2 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_learn_spell_give_disease
		wc_learn_spell_effect = {
			SPELL = give_disease
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_2 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 2 0 }
	icon = node_stewardship

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_2 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 2 } }
			}
			multiply = 0
		}
	}

	effect = {
		custom_tooltip = wc_anti_magic_barrier_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_3 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 1 1 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_1
	parent = death_magic_tree_2_perk_2

	effect = {
		custom_tooltip = wc_learn_spell_death_and_decay
		wc_learn_spell_effect = {
			SPELL = death_and_decay
		}
		custom_tooltip = wc_rotten_lands_raise_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_4 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 0 2 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_3

	character_modifier = {
		movement_speed = 0.1
	}

	effect = {
		custom_tooltip = wc_deaths_advance_tooltip
		trigger_event = { on_action = on_deaths_advance_liege_pulse }
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_5 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 2 2 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_3

	effect = {
		custom_tooltip = wc_unholy_ground_effect
		custom_tooltip = wc_unholy_ground_disease_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_6 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 1 3 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_4
	parent = death_magic_tree_2_perk_5

	effect = {
		custom_tooltip = wc_learn_spell_cripple
		wc_learn_spell_effect = {
			SPELL = cripple
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_7 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 0 4 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_6

	effect = {
		custom_tooltip = wc_learn_spell_improved_body
		wc_learn_spell_effect = {
			SPELL = improved_body
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_8 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 2 4 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_6

	effect = {
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_2_perk_9 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_2
	position = { 1 5 }
	icon = node_stewardship

	parent = death_magic_tree_2_perk_7
	parent = death_magic_tree_2_perk_8

	effect = {
		custom_tooltip = wc_learn_spell_epidemic
		wc_learn_spell_effect = {
			SPELL = epidemic
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}

death_magic_tree_3_perk_1 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 2 0 }
	icon = node_martial

	can_be_auto_selected = {
		magic_lifestyle_is_valid_trigger = { MAGIC = death }
	}

	auto_selection_weight = {
		value = wc_death_magic_auto_selection_value

		if = {
			limit = { has_focus = death_magic_focus_3 }
			multiply = wc_lifestyle_perk_auto_selection_weight_multiply_from_focus_value
		}
		if = {
			limit = {
				NOT = { can_spend_perks_in_nonelemental_TYPE_lifestyle_tree_TREE_trigger = { TYPE = death_magic TREE = 3 } }
			}
			multiply = 0
		}
	}

	character_modifier = {
		health = minor_health_bonus
	}

	effect = {
		custom_tooltip = wc_blood_presence_effect
		custom_tooltip = wc_learn_spell_coagulation
		wc_learn_spell_effect = {
			SPELL = coagulation
		}
		learn_spell_rank_effect = {
			SPELL = coagulation
			RANK = 2
		}
		learn_spell_rank_effect = {
			SPELL = coagulation
			RANK = 3
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_2 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 2 1 }
	icon = node_martial

	parent = death_magic_tree_3_perk_1

	effect = {
		custom_tooltip = wc_learn_spell_blood_boil
		wc_learn_spell_effect = {
			SPELL = blood_boil
		}
		custom_tooltip = wc_blood_boil_disease_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_3 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 1 2 }
	icon = node_martial

	parent = death_magic_tree_3_perk_2

	effect = {
		custom_tooltip = wc_blood_siphon_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_4 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 3 2 }
	icon = node_martial

	parent = death_magic_tree_3_perk_2

	character_modifier = {
		hostile_scheme_resistance_add = 10
	}

	effect = {
		custom_tooltip = wc_vampiric_aura_effect
		custom_tooltip = wc_vampiric_aura_raise_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_5 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 0.25 3 }
	icon = node_martial

	parent = death_magic_tree_3_perk_3

	effect = {
		custom_tooltip = wc_blood_gorged_effect
		trigger_event = { on_action = on_blood_gorged_pulse }
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_6 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 3.75 3 }
	icon = node_martial

	parent = death_magic_tree_3_perk_4

	effect = {
		custom_tooltip = wc_learn_spell_strangulate
		wc_learn_spell_effect = {
			SPELL = strangulate
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_7 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 0.5 4 }
	icon = node_martial

	parent = death_magic_tree_3_perk_5

	effect = {
		custom_tooltip = wc_mark_of_blood_effect
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_8 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 3.5 4 }
	icon = node_martial

	parent = death_magic_tree_3_perk_6

	effect = {
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}
death_magic_tree_3_perk_9 = {
	lifestyle = death_magic_lifestyle
	tree = death_magic_tree_3
	position = { 2 5 }
	icon = node_martial

	parent = death_magic_tree_3_perk_7
	parent = death_magic_tree_3_perk_8

	effect = {
		custom_tooltip = wc_learn_spell_crimson_binding
		wc_learn_spell_effect = {
			SPELL = crimson_binding
		}
		# Maintenance
		wc_nonelemental_MAGIC_magic_lifestyle_rank_up_check_effect = { MAGIC = death }
	}
}