wc_blizzard_county_pulse = {
    effect = {
        if = {
            limit = {
                has_county_modifier = wc_blizzard_county_modifier
            }

            every_in_de_jure_hierarchy = {
                limit = {
                    tier = tier_barony
                }
                title_province = {
                    every_character_in_location = {
                        limit = {
                            NOT = {
                                has_character_modifier = wc_blizzard_character_modifier
                            }
                        }
                        apply_character_blizzard_effect = yes
                    }
                }
            }

            trigger_event = {
                on_action = wc_blizzard_county_pulse
                months = 1
            }
        }
    }
}

wc_blizzard_removal_pulse = {
    effect = {
        if = {
            limit = {
                has_character_modifier = wc_blizzard_character_modifier
            }

            if = {
                limit = {
                    exists = location.county
                    location.county = {
                        NOT = {
                            has_county_modifier = wc_blizzard_county_modifier
                        }
                    }
                }

                remove_character_modifier = wc_blizzard_character_modifier
            }
            else = {
                trigger_event = {
                    on_action = wc_blizzard_removal_pulse
                    months = 1
                }
            }
        }
    }
}

on_join_court_blizzard = {
    effect = {
        if = {
            limit = {
                exists = location.county
                location.county = { has_county_modifier = wc_blizzard_county_modifier }
                NOT = {
                    has_character_modifier = wc_blizzard_character_modifier
                }
            }
            apply_character_blizzard_effect = yes
        }
        else_if = {
            limit = {
                exists = location.county
                has_character_modifier = wc_blizzard_character_modifier
            }
            remove_character_modifier = wc_blizzard_character_modifier
        }
    }
}