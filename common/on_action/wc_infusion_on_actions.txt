wc_on_infusion_changed = {
	effect = {
		infusion_traits_effect = yes
		infusion_racial_traits_effect = yes
	}
}

wc_on_pregnancy_mother_infusion = { #Infusions are set on pregnancy, so that if the father dies the child will still get infusions
	effect = { 
		scope:mother = { 
			set_variable = { 
				name = child_light_void_infusion
				value = parent_average_infusion_light_void
			}
			set_variable = { 
				name = child_arcane_fel_infusion
				value = parent_average_infusion_arcane_fel
			}
			set_variable = { 
				name = child_nature_death_infusion
				value = parent_average_infusion_nature_death
			}
		}
	}
}

wc_on_birth_child_infusion = { 
	effect = {
		scope:child = {
			add_magic_infusion_effect = { MAGIC = light_void ADD = scope:mother.var:child_light_void_infusion }
			add_magic_infusion_effect = { MAGIC = arcane_fel ADD = scope:mother.var:child_arcane_fel_infusion }
			add_magic_infusion_effect = { MAGIC = nature_death ADD = scope:mother.var:child_nature_death_infusion }
		}
		scope:mother = { 
			trigger_event = { 
				on_action = wc_on_after_birth_child_infusion
				days = 1
			}
		}
	}
}

wc_on_after_birth_child_infusion = { 
	effect = { 
		remove_variable = child_light_void_infusion
		remove_variable = child_arcane_fel_infusion
		remove_variable = child_nature_death_infusion
	}
}