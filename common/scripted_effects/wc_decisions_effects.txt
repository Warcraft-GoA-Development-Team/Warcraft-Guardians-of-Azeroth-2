embrace_void_elf_culture_effect = {
	# Scopes saves for localization
	root = {
		save_scope_as = embracer
		culture = { 
			save_scope_as = old_culture
		}
	}

	# Prestige Bonus
	add_prestige = medium_prestige_gain

	custom_tooltip = embrace_void_elf_culture_decision_people_custom
	hidden_effect = {
		set_culture = culture:void_elf

		#Convert your, and your whole family's, culture
		every_close_or_extended_family_member = { 
			limit = { 
				can_become_void_elf_trigger = yes
				is_landed = no 	# Landed people are handled through every_vassal_or_below
			}
			set_culture = culture:void_elf
		}

		every_courtier = { 
			limit = { 
				can_become_void_elf_trigger = yes
				is_landed = no 	
			}
			set_culture = culture:void_elf
		}

		every_vassal_or_below = { 
			if = { 
				limit = { 
					can_become_void_elf_trigger = yes
				}
				set_culture = culture:void_elf
			}

			every_close_or_extended_family_member = { 
				limit = { 
					can_become_void_elf_trigger = yes
					is_landed = no 	
				}
				set_culture = culture:void_elf
			}

			every_courtier = { 
				limit = { 
					can_become_void_elf_trigger = yes
					is_landed = no 	
				}
				set_culture = culture:void_elf
			}
		}
	}
	
	#Flip Counties
	every_county_in_region = {
		region = world_eastern_kingdoms_quelthalas
		custom = embrace_void_elf_culture_counties_custom
		limit = {
			target_is_de_facto_liege_or_above = root.primary_title
		}
		custom_tooltip = embrace_void_elf_culture_decision_lands_custom
		custom_tooltip = embrace_void_elf_culture_decision_lands_40_custom
		hidden_effect = {
			if = { 
				limit = { 
					OR = {
						culture = { has_cultural_pillar = heritage_highborne }
						holder = { 
							culture = culture:void_elf
						}
						religion = religion:void_group
					}
				}

				
				set_county_culture = culture:void_elf
			}
			else = { 
				random = {
					chance = 40
					set_county_culture = culture:void_elf
				}
			}
		}
	}

	culture:void_elf = {
		custom_tooltip = embrace_void_elf_culture_decision_get_innovations
		hidden_effect = {
			reset_culture_creation_date = yes
			get_all_innovations_from = scope:old_culture
		}
	}
}