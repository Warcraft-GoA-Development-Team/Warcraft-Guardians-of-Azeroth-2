namespace = void_elf

void_elf.0001 = { # Celebrate building the observatory
	type = character_event
	title = void_elf.0001.t
	desc = void_elf.0001.desc
	theme = culture_change
	left_portrait = {
		character = scope:builder
		animation = personality_bold
	}

	immediate = {
		save_scope_as = builder

		scope:builder = {
			trigger_event = {
				id = void_elf.0002
				months = { 3 9 }
			}
		}
	}

	option = { # Our grand undertaking is finished!
		name = void_elf.0001.a
	}

	option = { # What was that sound?
		name = void_elf.0001.a
	}
}

void_elf.0002 = { # Whispers in the dark
	type = character_event
	title = void_elf.0002.t
	desc = void_elf.0002.desc
	theme = culture_change
	left_portrait = {
		character = scope:builder
		animation = personality_bold
	}

	immediate = {
	}

	option = { # Seeing shapes and hearing whispers
		name = void_elf.0002.a

		scope:builder = {
			trigger_event = {
				id = void_elf.0003
				years = { 1 3 }
			}
		}
	}

	option = { # Block out the whispers, stops the event chain
		name = void_elf.0002.a
	}
}

void_elf.0003 = { # Contacting the dark Naaru
	type = character_event
	title = void_elf.0003.t
	desc = void_elf.0003.desc
	theme = culture_change
	left_portrait = {
		character = scope:builder
		animation = personality_bold
	}

	immediate = {
	}

	option = { # Agree to follow the Naaru into the void
		name = void_elf.0003.a

		scope:builder = {
			set_character_faith = faith:voidfarer
			trigger_event = {
				id = void_elf.0004
				years = 5
			}
		}
	}

	option = { # Refuse
		name = void_elf.0003.b
	}
}

void_elf.0004 = { # Returning from the Void, spreading the good word
	type = character_event
	title = void_elf.0004.t
	desc = void_elf.0004.desc
	theme = culture_change
	left_portrait = {
		character = scope:builder
		animation = personality_bold
	}

	immediate = {
	}

	option = { # Spread your faith
		name = void_elf.0004.a

		scope:builder = {
			add_trait = being_void

			embrace_voidfarer_faith_effect = yes

			add_character_flag = completed_void_journey
		}
	}
}

void_elf.1001 = {
	type = character_event
	title = void_elf.1001.t
	desc = void_elf.1001.desc
	theme = culture_change
	left_portrait = {
		character = scope:embracer
		animation = personality_bold
	}

	immediate = {
		save_scope_as = embracer
		culture = { save_scope_as = embracer_former_culture }
		scope:embracer = {
			embrace_void_elf_culture_effect = yes
		}
	}

	option = {
		name = void_elf.1001.a
		embrace_english_culture_effect = yes
		hidden_effect = {
			# Send event to other players
			every_player = {
				limit = {
					NOT = { this = root }
					OR = {
						primary_title = {
							OR = {
								de_jure_liege = title:e_quelthalas
								de_jure_liege.de_jure_liege = title:e_quelthalas
								de_jure_liege.de_jure_liege.de_jure_liege = title:e_quelthalas
							}
						}
						culture = { has_cultural_pillar = heritage_highborne }
					}
				}
				trigger_event = void_elf.1002
			}
		}
	}
}

# Players informed
void_elf.1002 = {
	type = character_event
	title = void_elf.1002.t
	desc = void_elf.1002.desc
	theme = culture_change
	left_portrait = {
		character = scope:embracer
		animation = personality_bold
	}

	option = { # Not norman
		name = void_elf.1002.a
		trigger = {
			NOT = { has_culture = scope:embracer.culture }
		}
	}
	option = { # Also norman
		name = void_elf.1002.b
		trigger = {
			has_culture = scope:embracer.culture
		}
	}
}