light_void_infusion_level_value = {
	value = 0
	if = {
		limit = { is_alive = yes has_trait = infusion_cosmic }
		if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = light
					value >= 100
				}
			}
			add = 3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = light
					value >= 66
				}
			}
			add = 2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = light
					value >= 33
				}
			}
			add = 1
		}
		
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = void
					value >= 100
				}
			}
			add = -3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = void
					value >= 66
				}
			}
			add = -2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = void
					value >= 33
				}
			}
			add = -1
		}
	}
}

arcane_fel_infusion_level_value = {
	value = 0
	if = {
		limit = { is_alive = yes has_trait = infusion_cosmic }
		if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = arcane
					value >= 100
				}
			}
			add = 3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = arcane
					value >= 66
				}
			}
			add = 2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = arcane
					value >= 33
				}
			}
			add = 1
		}
		
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = fel
					value >= 100
				}
			}
			add = -3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = fel
					value >= 66
				}
			}
			add = -2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = fel
					value >= 33
				}
			}
			add = -1
		}
	}
}

nature_death_infusion_level_value = {
	value = 0
	if = {
		limit = { is_alive = yes has_trait = infusion_cosmic }
		if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = life
					value >= 100
				}
			}
			add = 3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = life
					value >= 66
				}
			}
			add = 2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = life
					value >= 33
				}
			}
			add = 1
		}
		
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = death
					value >= 100
				}
			}
			add = -3
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = death
					value >= 66
				}
			}
			add = -2
		}
		else_if = {
			limit = { 
				has_trait_xp = { 
					trait = infusion_cosmic
					track = death
					value >= 33
				}
			}
			add = -1
		}
	}
}

negative_souls_needed_value = {
	value = 0
	if = {
		limit = {
			is_alive = yes 
			has_variable = demon_sacrifices_needed
		}
		add = var:demon_sacrifices_needed
		multiply = -1
	}
}

negative_infusion_tooltip_value = {
	value = scope:inf_tt_value
	multiply = -1
}

parent_average_infusion_light_void = {
	value = 0
	if = { 
		limit = { 
			scope:real_father = { 
				is_alive = yes
				has_variable = light_void_infusion
			}
		}
		add = scope:real_father.var:light_void_infusion
	} 

	if = { 
		limit = { 
			scope:mother = { 
				is_alive = yes
				has_variable = light_void_infusion
			}
		}
		add = scope:mother.var:light_void_infusion
	}

	if = { 
		limit = { 
			OR = { 
				NOT = { 
					scope:real_father = { 
						has_variable = light_void_infusion
					}
				}
				NOT = { 
					scope:mother = { 
						has_variable = light_void_infusion
					}
				}
			}
		}

		multiply = 2
	}
	
	multiply = 0.5
}

parent_average_infusion_arcane_fel = {
	value = 0
	if = { 
		limit = { 
			scope:real_father = { 
				is_alive = yes
				has_variable = arcane_fel_infusion
			}
		}
		add = scope:real_father.var:arcane_fel_infusion
	}

	if = { 
		limit = { 
			scope:mother = { 
				is_alive = yes
				has_variable = arcane_fel_infusion
			}
		}
		add = scope:mother.var:arcane_fel_infusion
	}

	if = { 
		limit = { 
			OR = { 
				NOT = { 
					scope:real_father = { 
						has_variable = arcane_fel_infusion
					}
				}
				NOT = { 
					scope:mother = { 
						has_variable = arcane_fel_infusion
					}
				}
			}
		}

		multiply = 2
	}

	multiply = 0.5
}

parent_average_infusion_nature_death = {
	value = 0
	if = { 
		limit = { 
			scope:real_father = { 
				has_variable = nature_death_infusion
			}
		}
		add = scope:real_father.var:nature_death_infusion
	}

	if = { 
		limit = { 
			scope:mother = { 
				has_variable = nature_death_infusion
			}
		}
		add = scope:mother.var:nature_death_infusion
	}

	if = { 
		limit = { 
			OR = { 
				NOT = { 
					scope:real_father = { 
						has_variable = nature_death_infusion
					}
				}
				NOT = { 
					scope:mother = { 
						has_variable = nature_death_infusion
					}
				}
			}
		}

		multiply = 2
	}

	multiply = 0.5
}