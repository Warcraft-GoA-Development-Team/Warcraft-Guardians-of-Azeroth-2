clear_this_union_variables_effect = {
	remove_variable = gui_this_union_name
	remove_variable = gui_union
	remove_variable = gui_this_union_leader
	remove_variable = gui_this_union_heir
	clear_variable_list = gui_candidates
	remove_variable = gui_this_union_strength
	remove_variable = gui_this_union_member_number
}
get_this_union_variables_effect = {
	# Union leader
	remove_variable = gui_this_union_leader
	remove_variable = gui_this_union_heir
	clear_variable_list = gui_candidates
	
	set_variable = { name = gui_this_union_leader value = scope:this_union.story_owner }
	# Union heir
	set_variable = { name = gui_this_union_heir value = scope:this_union.story_owner.primary_heir }
	# Union vice
	scope:this_union = {
		if = {
			limit = {
				exists = story_owner.primary_heir
				story_owner.primary_heir = {
					OR = {
						NOT = { has_variable = this_union }
						var:this_union = prev.story_owner.var:this_union
					}
					trigger_if = {
						limit = { is_ruler = yes is_independent_ruler = no }
						top_liege.highest_held_title_tier <= prev.story_owner.highest_held_title_tier
					}
				}
			}
			story_owner.primary_heir = {
				set_variable = { name = temp_union value = prev.var:this_union days = 180 }
			}
			root = {
				add_to_variable_list = {
					name = gui_candidates
					target = prev.story_owner.primary_heir
				}
			}
		}
		every_in_list = {
			variable = union_members
			limit = {
				NOT = { this = prev.story_owner }
				can_lead_union_trigger = { landless = no }
			}
			root = {
				add_to_variable_list = {
					name = gui_candidates
					target = prev
				}
			}
		}
	}
	#Union military
	set_variable = { name = gui_this_union_strength value = 0 }
	set_variable = { name = gui_this_union_member_number value = 0 }
	# Members
	scope:this_union = {
		every_in_list = {
			variable = union_members
			# Strength
			root = {
				change_variable = { name = gui_this_union_strength add = prev.max_military_strength }
				change_variable = { name = gui_this_union_member_number add = 1 }
			}
		}
	}
}