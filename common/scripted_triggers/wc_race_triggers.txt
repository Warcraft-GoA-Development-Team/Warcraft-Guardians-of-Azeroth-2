has_race_trait_trigger = {
	exists = var:race
}
has_character_race_trigger = {
	has_race_trait_trigger = yes
	$CHARACTER$ = { has_race_trait_trigger = yes }
	# Add new races always at the end
	
	#Special cases
	trigger_if = { limit = { is_orc_trigger = yes 					} $CHARACTER$ = { is_orc_trigger = yes 					} }
	trigger_else_if = { limit = { is_elf_trigger = yes 					} $CHARACTER$ = { is_elf_trigger = yes 					} }
	trigger_else_if = { limit = { is_vrykul_trigger = yes				} $CHARACTER$ = { is_vrykul_trigger = yes				} }
	trigger_else_if = { limit = { is_red_dragon_trigger = yes			} $CHARACTER$ = { is_red_dragon_trigger = yes				} }
	trigger_else_if = { limit = { is_blue_dragon_trigger = yes			} $CHARACTER$ = { is_blue_dragon_trigger = yes			} }
	trigger_else_if = { limit = { is_green_dragon_trigger = yes			} $CHARACTER$ = { is_green_dragon_trigger = yes			} }
	trigger_else_if = { limit = { is_black_dragon_trigger = yes			} $CHARACTER$ = { is_black_dragon_trigger = yes			} }
	trigger_else_if = { limit = { is_eredar_trigger = yes 				} $CHARACTER$ = { is_eredar_trigger = yes 				} }
	trigger_else_if = { limit = { is_bronze_dragon_trigger = yes		} $CHARACTER$ = { is_bronze_dragon_trigger = yes			} }
	trigger_else_if = { limit = { is_nraqi_trigger = yes				} $CHARACTER$ = { is_nraqi_trigger = yes 					} }
	trigger_else_if = { limit = { is_infinite_dragon_trigger = yes		} $CHARACTER$ = { is_infinite_dragon_trigger = yes		} }
	
	# Fallback, always at the very end
	trigger_else = {
		#Compares 2 variables
		var:race = $CHARACTER$.var:race
	}
}

# CAN'T HAS ROMANCES, MARRIAGES WITH CHARACTER IF IT'S NOT TRUE
can_have_sexual_relation_with_trigger = {
	custom_description = {
		text = can_have_sexual_relation_with_trigger_tooltip
		subject = this
		object = $CHARACTER$
		
		# can_marry_common_trigger = yes
		# $CHARACTER$ = { can_marry_common_trigger = yes }
		
		NOT = { is_isolated_from_trigger = { target = $CHARACTER$ } }
		
		trigger_if = {
			limit = {
				has_game_rule = wc_interracial_marriage_unrestricted
			}
		}
		trigger_else = {
			OR = {
				# Racial relations
				has_character_race_trigger = { CHARACTER = $CHARACTER$ }
				
				# Distant interracial relations
				trigger_if = {
					limit = {
						NOT = { has_game_rule = wc_interracial_marriage_off } 
					}
					OR = {
						# Can have sexual relationship with all humanoids that can marry
						trigger_if = {
							limit = { has_trait = creature_sayaadi }
							$CHARACTER$ = {
								is_humanoid_trigger = yes
								can_marry_trigger = yes
							}
						}
						trigger_if = {
							limit = { $CHARACTER$ = { has_trait = creature_sayaadi } }
							is_humanoid_trigger = yes
							can_marry_trigger = yes
						}
						
						trigger_if = {
							limit = {
								OR = {
									has_trait = creature_human
									is_orc_trigger = yes
									is_elf_trigger = yes
									is_eredar_trigger = yes
									has_trait = creature_dwarf
									has_trait = creature_troll
									is_vrykul_trigger = yes
									has_trait = creature_gnome
									has_trait = creature_goblin
								}
							}
							$CHARACTER$ = {
								OR = {
									has_trait = creature_human
									is_orc_trigger = yes
									is_elf_trigger = yes
									is_eredar_trigger = yes
									has_trait = creature_dwarf
									has_trait = creature_troll
									is_vrykul_trigger = yes
									has_trait = creature_gnome
									has_trait = creature_goblin
								}
							}
						}
						
						trigger_if = {
							limit = {
								OR = {
									is_orc_trigger = yes
									has_trait = creature_ogre
								}
							}
							$CHARACTER$ = {
								OR = {
									is_orc_trigger = yes
									has_trait = creature_ogre
								}
							}
						}
						
						# Fallback
						always = no
					}
				}
				OR = {
					# Close interracial relations
					trigger_if = {
						limit = { is_dragon_race_trigger = yes }
						$CHARACTER$ = { is_dragon_race_trigger = yes }
					}
					trigger_else_if = {
						limit = { is_yaungol_trigger = yes }
						$CHARACTER$ = { is_yaungol_trigger = yes }
					}
					trigger_else_if = {
						limit = { OR = { has_trait = creature_earthen has_trait = creature_iron_dwarf } }
						$CHARACTER$ = { OR = { has_trait = creature_earthen has_trait = creature_iron_dwarf } }
					}
					trigger_else_if = {
						limit = { is_cenarius_offspring_trigger = yes }
						$CHARACTER$ = { is_cenarius_offspring_trigger = yes }
					}
					trigger_else_if = {
						limit = { is_murloc_trigger = yes }
						$CHARACTER$ = { is_murloc_trigger = yes }
					}
					trigger_else = {
						is_elf_trigger = yes
						$CHARACTER$ = { is_elf_trigger = yes }
					}
				}
			}
		}
	}
}

is_attracted_to_race_trigger = {
	OR = {
		has_character_race_trigger = { CHARACTER = $CHARACTER$ }
		#Humans and high elves
		AND = {
			OR = {
				is_high_elf_trigger = yes
				has_trait = creature_human
			}
			$CHARACTER$ = {
				OR = {
					is_high_elf_trigger = yes
					has_trait = creature_human
				}
			}
		}
		#Goblins and gnomes
		AND = {
			OR = {
				has_trait = creature_goblin
				has_trait = creature_gnome
			}
			$CHARACTER$ = {
				OR = {
					has_trait = creature_goblin
					has_trait = creature_gnome
				}
			}
		}
		#Murlocs and Gorlocs
		AND = {
			OR = {
				has_trait = creature_murloc
				has_trait = creature_gorloc
			}
			$CHARACTER$ = {
				OR = {
					has_trait = creature_murloc
					has_trait = creature_gorloc
				}
			}
		}
	}
}

can_have_sexual_relation_with_and_attracted_to_trigger = {
	can_have_sexual_relation_with_trigger = { CHARACTER = $target$ }
	is_attracted_to_race_trigger = { CHARACTER = $target$ }
}

# Only humanoids made of meat and bones
is_humanoid_trigger = {
	custom_description = {
		text = is_humanoid_tooltip
		subject = this
		# NOT = { has_trait = being_demon }
		OR = {
			is_small_humanoid_trigger = yes
			is_medium_humanoid_trigger = yes
			is_large_humanoid_trigger = yes
		}
	}
}
# Only humanoids made of meat and bones
is_small_humanoid_trigger = {
	custom_description = {
		text = is_small_humanoid_tooltip
		subject = this
		OR = {
			has_trait = creature_murloc
			has_trait = creature_kobold
			has_trait = creature_dwarf
			has_trait = creature_gnome
			has_trait = creature_goblin
			has_trait = creature_pygmy
			has_trait = creature_gorloc
			has_trait = creature_wolvar
			has_trait = creature_vulpera
			has_trait = creature_grummle
		}
	}
}
# Only humanoids made of meat and bones
is_medium_humanoid_trigger = {
	custom_description = {
		text = is_medium_humanoid_tooltip
		subject = this
		OR = {
			has_trait = creature_human
			is_orc_trigger = yes
			has_trait = creature_troll
			has_trait = creature_gnoll
			is_high_elf_trigger = yes
			has_trait = creature_naga
			has_trait = creature_hozen
			is_eredar_trigger = yes
			has_trait = creature_arakkoa_corrupted
			has_trait = creature_satyr
			has_trait = creature_sayaadi
			# has_trait = creature_moarg
			has_trait = creature_tuskarr
			has_trait = creature_furbolg
			has_trait = creature_nerubian
			has_trait = creature_harpy
			has_trait = creature_night_elf
			has_trait = creature_nightborne
			has_trait = creature_centaur
			has_trait = creature_quilboar
			has_trait = creature_tolvir
			has_trait = creature_dryad
			has_trait = creature_frostnymph
			has_trait = creature_highborne
			has_trait = creature_sethrak
			has_trait = creature_wickerman # sort of?
			has_trait = creature_pandaren
			has_trait = creature_jinyu
			has_trait = creature_ankoan
			has_trait = creature_mantid
			has_trait = creature_saurok
			# has_trait = creature_stone_tolvir # sort of?		
			has_trait = creature_trogg
		}
	}
}
# Only humanoids made of meat and bones
is_large_humanoid_trigger = {
	custom_description = {
		text = is_large_humanoid_tooltip
		subject = this
		OR = {
			has_trait = creature_ogre
			has_trait = creature_abomination
			has_trait = creature_lich
			has_trait = creature_annihilan
			has_trait = creature_nathrezim
			has_trait = creature_eredruin
			has_trait = creature_shivarra
			is_vrykul_trigger = yes
			has_trait = creature_magnataur
			is_yaungol_trigger = yes
			has_trait = creature_giant
			has_trait = creature_nraqi
			has_trait = creature_cthraxxi
			has_trait = creature_qiraji
			has_trait = creature_wicker_behemoth # sort of?
			has_trait = creature_wicker_golem # sort of?
			has_trait = creature_mogu
			has_trait = creature_drogbar
		}
	}
}

is_yaungol_trigger = {
	OR = {
		has_trait = creature_taunka
		has_trait = creature_tauren
		has_trait = creature_yaungol
		has_trait = creature_highmountain_tauren
	}
}
is_cenarius_offspring_trigger = { # Don't forget to also update game_concept_wc_cenarius_children_desc
	OR = {
		has_trait = creature_frostnymph
		has_trait = creature_dryad
		has_trait = creature_centaur
		has_trait = creature_magnataur
	}
}
is_nraqi_trigger = {
	OR = {
		has_trait = creature_nraqi
		has_trait = creature_cthraxxi
	}
}
is_orc_trigger = {
	OR = {
		has_trait = creature_orc
		has_trait = creature_fel_orc
	}
}
is_elf_trigger = {
	OR = {
		is_high_elf_trigger = yes
		has_trait = creature_night_elf
		has_trait = creature_nightborne
		has_trait = creature_highborne
	}
}
is_aqir_trigger = {
	OR = {
		has_trait = creature_nerubian
		has_trait = creature_qiraji
		has_trait = creature_mantid
	}
}
is_high_elf_trigger = {
	# Catch cases when character has race trait
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		OR = {
			has_trait = creature_high_elf
			has_trait = creature_blood_elf
		}
	}
	# Catch cases when character doesn't have race trait thus they're spawned
	trigger_else = {
		OR = {
			potential_race_high_elf_trigger = yes
			potential_race_blood_elf_trigger = yes
		}
	}
}
is_eredar_trigger = {
	OR = {
		has_trait = creature_eredar
		has_trait = creature_draenei
	}
}
is_dragon_race_trigger = {
	custom_description = {
		text = is_dragon_race_tooltip
		subject = this
		OR = {
			is_red_dragon_trigger = yes
			is_blue_dragon_trigger = yes
			is_green_dragon_trigger = yes
			is_black_dragon_trigger = yes
			is_bronze_dragon_trigger = yes
			is_infinite_dragon_trigger = yes
		}
	}
}
is_red_dragon_trigger = {
	OR = {
		has_trait = creature_red_whelp
		has_trait = creature_red_drake
		has_trait = creature_red_dragon
		has_trait = creature_red_wyrm
	}
}
is_blue_dragon_trigger = {
	OR = {
		has_trait = creature_blue_whelp
		has_trait = creature_blue_drake
		has_trait = creature_blue_dragon
		has_trait = creature_blue_wyrm
	}
}
is_green_dragon_trigger = {
	OR = {
		has_trait = creature_green_whelp
		has_trait = creature_green_drake
		has_trait = creature_green_dragon
		has_trait = creature_green_wyrm
	}
}
is_black_dragon_trigger = {
	OR = {
		has_trait = creature_black_whelp
		has_trait = creature_black_drake
		has_trait = creature_black_dragon
		has_trait = creature_black_wyrm
	}
}
is_bronze_dragon_trigger = {
	OR = {
		has_trait = creature_bronze_whelp
		has_trait = creature_bronze_drake
		has_trait = creature_bronze_dragon
		has_trait = creature_bronze_wyrm
	}
}
is_infinite_dragon_trigger = {
	OR = {
		has_trait = creature_infinite_whelp
		has_trait = creature_infinite_drake
		has_trait = creature_infinite_dragon
		has_trait = creature_infinite_wyrm
	}
}

is_vrykul_trigger = {
	OR = {
		has_trait = creature_vrykul
		has_trait = creature_kvaldir
	}
}
is_murloc_trigger = {
	OR = {
		has_trait = creature_murloc
		has_trait = creature_gorloc
	}
}

is_night_elf_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_night_elf
	}
	trigger_else = {
		potential_race_night_elf_trigger = yes
	}
}
is_highborn_elf_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_highborne
	}
	trigger_else = {
		potential_race_highborne_trigger = yes
	}
}
is_dwarf_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_dwarf
	}
	trigger_else = {
		potential_race_dwarf_trigger = yes
	}
}
is_gnome_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_gnome
	}
	trigger_else = {
		potential_race_gnome_trigger = yes
	}
}
is_naga_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_naga
	}
	trigger_else = {
		potential_race_naga_trigger = yes
	}
}
is_satyr_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_satyr
	}
	trigger_else = {
		potential_race_satyr_trigger = yes
	}
}
is_vrykul_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_vrykul
	}
	trigger_else = {
		potential_race_vrykul_trigger = yes
	}
}
is_dryad_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_dryad
	}
	trigger_else = {
		potential_race_dryad_trigger = yes
	}
}
is_frostnymph_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_frostnymph
	}
	trigger_else = {
		potential_race_frostnymph_trigger = yes
	}
}
is_draenei_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_draenei
	}
	trigger_else = {
		potential_race_draenei_trigger = yes
	}
}
is_nightborne_elf_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_nightborne
	}
	trigger_else = {
		potential_race_nightborne_trigger = yes
	}
}
is_giant_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_giant
	}
	trigger_else = {
		potential_race_giant_trigger = yes
	}
}
is_mogu_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_mogu
	}
	trigger_else = {
		potential_race_mogu_trigger = yes
	}
}
is_mantid_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_mantid
	}
	trigger_else = {
		potential_race_mantid_trigger = yes
	}
}
is_qiraji_trigger = {
	trigger_if = {
		limit = { has_race_trait_trigger = yes }
		has_trait = creature_qiraji
	}
	trigger_else = {
		potential_race_qiraji_trigger = yes
	}
}