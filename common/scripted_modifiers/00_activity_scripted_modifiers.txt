#Scripted Modifiers used for Activities
base_activity_modifier = {
	# TOURNAMENT OPTIONS
	modifier = {
		scope:tournament_option_accommodations ?= flag:tournament_accommodations_bad 
		add = -10
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_ACCOMMODATIONS_BAD
	}
	modifier = {
		scope:tournament_option_accommodations ?= flag:tournament_accommodations_normal 
		add = 5
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_ACCOMMODATIONS_NORMAL
	}
	modifier = {
		scope:tournament_option_accommodations ?= flag:tournament_accommodations_good
		add = 10
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_ACCOMMODATIONS_GOOD
	}
	modifier = {
		scope:tournament_option_prizes ?= flag:tournament_prizes_bad 
		add = -10
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_PRIZES_BAD
	}
	modifier = {
		scope:tournament_option_prizes ?= flag:tournament_prizes_normal 
		add = 5
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_PRIZES_NORMAL
	}
	modifier = {
		scope:tournament_option_prizes ?= flag:tournament_prizes_good
		add = 10
		desc = ACTIVITY_GUEST_OPTIONS_TOURNAMENT_PRIZES_GOOD
	}
	# TOUR OPTIONS
	modifier = {
		scope:tour_luxuries ?= flag:tour_luxuries_bad 
		add = -10
		desc = ACTIVITY_GUEST_OPTION_TOUR_LUXURIES_BAD
	}
	modifier = {
		scope:tour_luxuries ?= flag:tour_luxuries_normal 
		add = 5
		desc = ACTIVITY_GUEST_OPTION_TOUR_LUXURIES_NORMAL
	}
	modifier = {
		scope:tour_luxuries ?= flag:tour_luxuries_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_TOUR_LUXURIES_GOOD
	}
	modifier = {
		scope:tour_luxuries ?= flag:tour_furniture_normal
		add = 15
		desc = ACTIVITY_GUEST_OPTION_TOUR_FURNITURE_NORMAL
	}
	modifier = {
		scope:tour_luxuries ?= flag:tour_furniture_good
		add = 20
		desc = ACTIVITY_GUEST_OPTION_TOUR_FURNITURE_GOOD
	}
	# WEDDING OPTIONS
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_BAD
	}
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_NORMAL
	}
	modifier = {
		scope:wedding_option_entertainment ?= flag:wedding_entertainment_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_ENTERTAINMENT_GOOD
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_BAD
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_NORMAL
	}
	modifier = {
		scope:wedding_option_food ?= flag:wedding_food_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_FOOD_GOOD
	}
	modifier = {
		scope:wedding_option_decoration ?= flag:wedding_decoration_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_DECORATION_BAD
	}
	modifier = {
		scope:wedding_option_decoration ?= flag:wedding_decoration_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_WEDDING_DECORATION_NORMAL
	}
	modifier = {
		scope:wedding_option_decoration ?= flag:wedding_decoration_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_WEDDING_DECORATION_GOOD
	}
	# FEAST OPTIONS
	modifier = {
		scope:feast_option_food ?= flag:feast_food_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_FEAST_FOOD_BAD
	}
	modifier = {
		scope:feast_option_food ?= flag:feast_food_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_FEAST_FOOD_NORMAL
	}
	modifier = {
		scope:feast_option_food ?= flag:feast_food_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_FEAST_FOOD_GOOD
	}
	modifier = {
		scope:feast_option_courses ?= flag:feast_courses_bad
		add = -10
		desc = ACTIVITY_GUEST_OPTION_FEAST_COURSES_BAD
	}
	modifier = {
		scope:feast_option_courses ?= flag:feast_courses_normal
		add = 5
		desc = ACTIVITY_GUEST_OPTION_FEAST_COURSES_NORMAL
	}
	modifier = {
		scope:feast_option_courses ?= flag:feast_courses_good
		add = 10
		desc = ACTIVITY_GUEST_OPTION_FEAST_COURSES_GOOD
	}
	# CHARIOT RACE OPTIONS
	modifier = {
		scope:chariot_option_entertainment ?= flag:chariot_entertainment_bad 
		add = -10
		desc = ACTIVITY_GUEST_OPTIONS_CHARIOT_RACE_ENTERTAINMENT_BAD
	}
	modifier = {
		scope:chariot_option_entertainment ?= flag:chariot_entertainment_normal 
		add = 5
		desc = ACTIVITY_GUEST_OPTIONS_CHARIOT_RACE_ENTERTAINMENT_NORMAL
	}
	modifier = {
		scope:chariot_option_entertainment ?= flag:chariot_entertainment_good
		add = 10
		desc = ACTIVITY_GUEST_OPTIONS_CHARIOT_RACE_ENTERTAINMENT_GOOD
	}
	
	################
	#   DISTANCE   #
	################
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days < 0
		add = -1000
		desc = ACTIVITY_GUEST_TRAVEL_LATE_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 0
		scope:estimated_arrival_diff_days <= 7
		add = -10
		desc = ACTIVITY_GUEST_TRAVEL_BARELY_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 7
		scope:estimated_arrival_diff_days <= 14
		add = 10
		desc = ACTIVITY_GUEST_TRAVEL_BARELY_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 14
		scope:estimated_arrival_diff_days <= 30
		add = 15
		desc = ACTIVITY_GUEST_TRAVEL_NORMAL_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 30
		scope:estimated_arrival_diff_days <= 60
		add = 20
		desc = ACTIVITY_GUEST_TRAVEL_NORMAL_REASON
	}
	modifier = {
		# Special guests should not consider their lateness
		NOT = { is_in_list = special_guests }
		scope:estimated_arrival_diff_days > 60
		add = 25
		desc = ACTIVITY_GUEST_TRAVEL_EXTRA_TIME_REASON
	}
}

activity_guest_shared_ai_accept_modifier = {
	opinion_modifier = { # Opinion Factor
		opinion_target = scope:host
		multiplier = 0.25
		desc = ACTIVITY_GUEST_OPINION_REASON
	}
	###########
	# SPECIAL #
	###########
	modifier = {
		ai_has_conqueror_personality = yes
		desc = NO_FRIVOLOUS_ACTIVITIES_REASON
		add = -10000
	}
	##################
	# ACTIVITY LEVEL #
	##################
	modifier = {
		desc = ACTIVITY_GUEST_ACTIVITY_LEVEL_REASON
		add = scope:host.primary_title.tier
	}
	####################
	# TIER DIFFERENCES #
	####################
	modifier = {
		is_playable_character = yes
		highest_held_title_tier < scope:host.highest_held_title_tier
		add = {
			value = scope:host.highest_held_title_tier
			subtract = highest_held_title_tier
			multiply = 5
		}
		desc = ACTIVITY_GUEST_LOWER_RANK_REASON
	}
	modifier = {
		is_playable_character = yes
		highest_held_title_tier > scope:host.highest_held_title_tier
		add = {
			value = highest_held_title_tier
			subtract = scope:host.highest_held_title_tier
			multiply = -5
		}
		desc = ACTIVITY_GUEST_HIGHER_RANK_REASON
	}
	##########
	# FAMILY #
	##########
	modifier = {
		is_close_family_of = scope:host
		add = 10
		desc = ACTIVITY_GUEST_CLOSE_FAMILY_REASON
	}
	modifier = {
		NOT = { is_close_family_of = scope:host }
		is_extended_family_of = scope:host
		add = 5
		desc = ACTIVITY_GUEST_EXTENDED_FAMILY_REASON
	}
	modifier = {
		NOR = {
			is_close_family_of = scope:host
			is_extended_family_of = scope:host
		}
		dynasty = scope:host.dynasty
		add = 5
		desc = ACTIVITY_GUEST_SAME_DYNASTY_REASON
	}
	modifier = {
		is_consort_of = scope:host
		add = 50
		desc = ACTIVITY_GUEST_SPOUSE
	}
	#########
	# REALM #
	#########
	modifier = {
		is_landed_or_landless_administrative = yes
		liege = scope:host
		add = 10
		desc = ACTIVITY_GUEST_VASSAL_REASON
	}
	modifier = {
		is_landed_or_landless_administrative = yes
		this = scope:host.liege
		add = 5
		desc = ACTIVITY_GUEST_LIEGE_REASON
	}
	modifier = {
		is_landed_or_landless_administrative = yes
		NOR = {
			liege = scope:host
			this = scope:host.liege
		}
		liege = scope:host.liege
		add = 5
		desc = ACTIVITY_GUEST_FELLOW_VASSAL_REASON
	}
	modifier = {
		is_landed_or_landless_administrative = yes
		NOR = {
			liege = scope:host
			this = scope:host.liege
			liege = scope:host.liege
		}
		top_liege = scope:host.top_liege
		add = 5
		desc = ACTIVITY_GUEST_REALM_REASON
	}
	#############
	# RELATIONS #
	#############
	modifier = {
		has_relation_rival = scope:host
		NOT = { has_relation_nemesis = scope:host }
		add = -50
		desc = ACTIVITY_GUEST_RIVAL_REASON
	}
	modifier = {
		has_relation_nemesis = scope:host
		add = -100
		desc = ACTIVITY_GUEST_NEMESIS_REASON
	}
	modifier = {
		has_relation_friend = scope:host
		NOT = { has_relation_best_friend = scope:host }
		add = 50
		desc = ACTIVITY_GUEST_FRIEND_REASON
	}
	modifier = {
		has_relation_best_friend = scope:host
		add = 100
		desc = ACTIVITY_GUEST_BEST_FRIEND_REASON
	}
	modifier = {
		has_relation_lover = scope:host
		NOT = { has_relation_soulmate = scope:host }
		add = 50
		desc = ACTIVITY_GUEST_LOVER_REASON
	}
	modifier = {
		has_relation_soulmate = scope:host
		add = 100
		desc = ACTIVITY_GUEST_SOULMATE_REASON
	}
	#########
	# FAITH #
	#########
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_astray_level
			}
		}
		add = -10
		desc = ACTIVITY_GUEST_FAITH_ASTRAY_REASON
	}
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_hostile_level
			}
		}
		add = -25
		desc = ACTIVITY_GUEST_FAITH_HOSTILE_REASON
	}
	modifier = {
		has_tolerant_faith_or_culture_trigger = no
		NOT = { has_trait = cynical }
		NAND = {
			faith = { has_doctrine = doctrine_pluralism_pluralistic }
			scope:host.faith = { has_doctrine = doctrine_pluralism_pluralistic }
		}
		faith = {
			NOT = { this = scope:host.faith }
			faith_hostility_level = {
				target = scope:host.faith
				value = faith_evil_level
			}
		}
		add = -50
		desc = ACTIVITY_GUEST_FAITH_EVIL_REASON
	}
	###########
	# CULTURE #
	###########
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 75 }
			cultural_acceptance = { target = scope:host.culture value >= 50 }
		}
		add = -5
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 50 }
			cultural_acceptance = { target = scope:host.culture value >= 25 }
		}
		add = -10
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	modifier = {
		culture = {
			NOT = { this = scope:host.culture }
			cultural_acceptance = { target = scope:host.culture value < 25 }
		}
		add = -15
		desc = ACTIVITY_GUEST_CULTURAL_ACCEPTANCE_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = gregarious
		add = 10
		desc = ACTIVITY_GUEST_GREGARIOUS_REASON
	}
	modifier = {
		has_trait = shy
		NOT = { is_in_list = special_guests }
		add = -25
		desc = ACTIVITY_GUEST_SHY_REASON
	}
	modifier = {
		has_trait = reclusive
		NOT = { is_in_list = special_guests }
		add = -25
		desc = ACTIVITY_GUEST_RECLUSIVE_REASON
	}
	modifier = {
		ai_energy < 0
		NOT = { is_in_list = special_guests }
		add = ai_energy
		desc = AI_VALUE_MODIFIER_ENERGY
	}
	###########
	# SCHEMES #
	###########
	modifier = {
		any_scheme = {
			OR = {
				scheme_type = murder
				scheme_type = abduct
				scheme_type = befriend
				scheme_type = seduce
			}
			OR = {
				scheme_target_character = scope:host
				scheme_target_character.liege = scope:host
			}
		}
		add = 15
		desc = ACTIVITY_GUEST_SCHEME_REASON
	}
	#########
	# DREAD #
	#########
	modifier = {
		add = 25
		liege = scope:host
		has_dread_level_towards = {
			target = scope:host
			level = 1
		}
		desc = INTIMIDATED_REASON
	}
	modifier = {
		add = 50
		liege = scope:host
		has_dread_level_towards = {
			target = scope:host
			level = 2
		}
		desc = COWED_REASON
	}
	#########
	# PLAGUES #
	#########
	modifier = {
		add = -40
		would_follow_social_distancing_value >= -1
		OR = {
			capital_county ?= {
				any_county_province = {
					any_province_epidemic = {
						count >= 1
						outbreak_intensity < apocalyptic
					}
				}
			}
			scope:host = {
				any_held_title = {
					tier = tier_county
					any_county_province = {
						any_province_epidemic = {
							count >= 1
							outbreak_intensity < apocalyptic
						}
					}
				}
			}
		}
		desc = ACTIVITY_GUEST_EPIDEMIC_REASON
	}
	modifier = {
		add = -200
		OR = {
			capital_county ?= {
				any_county_province = {
					any_province_epidemic = {
						count >= 1
						outbreak_intensity = apocalyptic
					}
				}
			}
			scope:host = {
				any_held_title = {
					tier = tier_county
					any_county_province = {
						any_province_epidemic = {
							count >= 1
							outbreak_intensity = apocalyptic
						}
					}
				}
			}
		}
		desc = ACTIVITY_GUEST_EPIDEMIC_APOCALYPTIC_REASON
	}
}

### REVAMPED ACTIVITIES

# FEAST

activity_guest_feast_ai_accept_modifier = {
	#############
	# LIFESTYLE #
	#############
	modifier = {
		has_trait = lifestyle_reveler
		add = 20
		desc = ACTIVITY_GUEST_REVELER_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = gluttonous
		add = 10
		desc = ACTIVITY_GUEST_GLUTTUNOUS_REASON
	}
	modifier = {
		has_trait = arrogant
		add = 10
		desc = ACTIVITY_GUEST_ARROGANT_REASON
	}
	# Courtly vassals more likely to accept
	modifier = {
		is_vassal_of = scope:host
		has_vassal_stance = courtly
		add = 20
		desc = ACTIVITY_GUEST_COURTLY_REASON
	}
	##########
	# STRESS #
	##########
	modifier = {
		has_trait = comfort_eater
		add = 10
		desc = ACTIVITY_GUEST_COMFORT_EATER_REASON
	}
	modifier = {
		has_trait = drunkard
		add = 10
		desc = ACTIVITY_GUEST_DRUNKARD_REASON
	}
	modifier = {
		has_trait = inappetetic
		add = -10
		desc = ACTIVITY_GUEST_INAPPETETIC_REASON
	}
	##########
	# TENETS #
	##########
	modifier = {
		liege = scope:host
		faith = { has_doctrine = tenet_ritual_celebrations }
		add = 15
		desc = ACTIVITY_GUEST_RITUAL_CELEBRATIONS_REASON
	}
	#########
	# OTHER #
	#########
	modifier = {
		has_character_modifier = gaining_weight_modifier
		add = 5
		desc = ACTIVITY_GUEST_GAINING_WEIGHT_REASON
	}
	modifier = {
		has_character_modifier = losing_weight_modifier
		add = -5
		desc = ACTIVITY_GUEST_LOSING_WEIGHT_REASON
	}
	modifier = {
		scope:host = {
			has_character_flag = food_improves_feasts
		}
		add = 15
		desc = food_improves_feasts_desc
	}
	#################
	# SPECIAL GUEST #
	#################
	modifier = {
		add = 100
		OR = {
			scope:honorary_guest ?= this
			scope:honorary_guest_regular ?= this
		}
	}
}

feast_events_ewan_0001_weight_down_for_bodyguards_modifier = {
	# Weight down per bodyguard employed by the target - cumulative with its opposite modifier.
	modifier = {
		add = {
			value = 0
			scope:intent_target = {
				every_court_position_holder = {
					limit = { has_court_position = bodyguard_court_position }
					add = -5
				}
			}
		}
		scope:intent_target = { employs_court_position = bodyguard_court_position }
	}
	# modifier = {
	# 	add = {
	# 		value = 0
	# 		scope:intent_target = {
	# 			every_court_position_holder = {
	# 			   limit = { has_court_position = akolouthos_court_position }
	# 				add = -5
	# 			}
	# 		}
	# 	}
	# 	scope:intent_target = { employs_court_position = akolouthos_court_position }
	# }
}

feast_events_ewan_0001_weight_up_for_bodyguards_modifier = {
	# Weight down per bodyguard employed by the target - cumulative with its opposite modifier.
	modifier = {
		add = {
			value = 0
			scope:intent_target = {
				every_court_position_holder = {
					limit = { has_court_position = bodyguard_court_position }
					add = 5
				}
			}
		}
		scope:intent_target = { employs_court_position = bodyguard_court_position }
	}
	# modifier = {
	# 	add = {
	# 		value = 0
	# 		scope:intent_target = {
	# 			every_court_position_holder = {
	# 			   limit = { has_court_position = akolouthos_court_position }
	# 				add = 5
	# 			}
	# 		}
	# 	}
	# 	scope:intent_target = { employs_court_position = akolouthos_court_position }
	# }
}

feast_events_ewan_0001_weight_down_for_tier_difference_modifier = {
	# Weight up per title tier difference between root and the target - cumulative with its opposite modifier.
	modifier = {
		add = {
			value = 0
			# Add the net difference of the two tiers.
			add = scope:intent_target.highest_held_title_tier
			subtract = root.highest_held_title_tier
			# Now multiply it to get a more substantial number.
			multiply = 5
			# Finally, invert it so we have a malus.
			multiply = -1
		}
		scope:intent_target.highest_held_title_tier > root.highest_held_title_tier
	}
}

feast_events_ewan_0001_weight_up_for_tier_difference_modifier = {
	# Weight up per title tier difference between root and the target - cumulative with its opposite modifier.
	modifier = {
		add = {
			value = 0
			# Add the net difference of the two tiers.
			add = scope:intent_target.highest_held_title_tier
			subtract = root.highest_held_title_tier
			# Now multiply it to get a more substantial number.
			multiply = 5
		}
		scope:intent_target.highest_held_title_tier > root.highest_held_title_tier
	}
}

# HUNT

activity_guest_hunt_ai_accept_modifier = {
	#############
	# LIFESTYLE #
	#############
	modifier = {
		hunt_lifestyle_track_less_trigger = { TRACK = hunter LESS_THAN = 50 }
		add = 10
		desc = ACTIVITY_GUEST_HUNTER_REASON
	}
	modifier = {
		hunt_lifestyle_track_greater_equal_trigger = { TRACK = hunter GREATER_EQUAL = 50 }
		hunt_lifestyle_track_less_trigger = { TRACK = hunter LESS_THAN = 100 }
		add = 20
		desc = ACTIVITY_GUEST_HUNTER_REASON
	}
	modifier = {
	   hunt_lifestyle_track_greater_equal_trigger = { TRACK = hunter GREATER_EQUAL = 100 }
		add = 30
		desc = ACTIVITY_GUEST_HUNTER_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = brave
		add = 10
		desc = ACTIVITY_GUEST_BRAVE_REASON
	}
	modifier = {
		has_trait = diligent
		add = -10
		desc = ACTIVITY_GUEST_DILIGENT_REASON
	}
	modifier = {
		has_trait = craven
		add = -10
		desc = ACTIVITY_GUEST_CRAVEN_REASON
	}
	modifier = {
		has_trait = lazy
		add = 10
		desc = ACTIVITY_GUEST_LAZY_REASON
	}
	###########
	# CULTURE #
	###########
	modifier = {
		add = 15
		culture = { has_cultural_parameter = hunting_traits_more_common }
		desc = ACTIVITY_GUEST_HUNTERS_MORE_COMMON_REASON
	}
	modifier = {
		add = 15
		culture = { has_cultural_parameter = hunting_traits_more_valued }
		desc = ACTIVITY_GUEST_HUNTERS_MORE_VALUED_REASON
	}
	modifier = {
		add = 15
		culture = { has_cultural_parameter = hunting_traits_more_pious }
		desc = ACTIVITY_GUEST_HUNTERS_MORE_PIOUS_REASON
	}
	#################
	# VASSAL STANCE #
	#################
	modifier = {
		exists = scope:special_type
		NOT = { scope:special_type = flag:hunt_type_falconry }
		is_vassal_of = scope:host
		has_vassal_stance = glory_hound
		add = 25
		desc = ACTIVITY_GUEST_GLORY_HOUND_REASON
	}
	 modifier = {
		scope:special_type ?= flag:hunt_type_falconry
		is_vassal_of = scope:host
		has_vassal_stance = courtly
		add = 25
		desc = ACTIVITY_GUEST_COURTLY_REASON
	}
	##########
	# STRESS #
	##########
	modifier = {
		has_trait = athletic
		add = 10
		desc = ACTIVITY_GUEST_ATHLETIC_REASON
	}
	##########
	# HEALTH #
	##########
	activity_guest_health_ai_accept_modifier = yes
	 modifier = {
		has_trait = blind
		add = -100
		desc = ACTIVITY_GUEST_BLIND_REASON
	}
	#############
	# EDUCATION #
	#############
	modifier = {
		has_trait = education_martial_prowess_1
		add = 2
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_2
		add = 5
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_3
		add = 8
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_4
		add = 10
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_1
		add = 2
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_2
		add = 5
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_3
		add = 8
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_4
		add = 10
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_5
		add = 15
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	#########
	# OTHER #
	#########
	modifier = {
		faith = { has_doctrine = tenet_dharmic_pacifism }
		NOT = { has_trait = cynical }
		add = {
			value = -25
			if = {
				limit = { has_trait = zealous }
				add = -25
			}
		}
		desc = ACTIVITY_GUEST_DHARMIC_PACIFISM_REASON
	}
	modifier = {
		culture = { has_cultural_parameter = cannot_hunt }
		add = -100
		desc = ACTIVITY_GUEST_CANNOT_HUNT_REASON
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_hunters }
		add = 25
		desc = ACTIVITY_GUEST_HUNTERS_REASON
	}
	modifier = {
		scope:special_type ?= flag:hunt_type_falconry
		culture = { has_cultural_tradition = tradition_ep2_avid_falconers }
		add = 25
		desc = ACTIVITY_GUEST_FALCONERS_REASON
	}
	modifier = {
		has_court_position = master_of_hunt_court_position
		add = 50
		desc = ACTIVITY_GUEST_MASTER_OF_HUNT_REASON
	}
	modifier = {
		is_knight = yes
		add = 25
		desc = ACTIVITY_GUEST_KNIGHT_REASON
	}
	modifier = {
		is_clergy = yes
		add = -150
		desc = ACTIVITY_GUEST_CLERGY_REASON
	}
	modifier = {
		is_clergy = no
		NOR = {
			scope:special_type ?= flag:hunt_type_falconry
			can_be_combatant_based_on_gender_trigger = { ARMY_OWNER = scope:host }
		}
		add = -150
		desc = ACTIVITY_GUEST_GENDER_REASON
	}
	modifier = {
		OR = {
			is_healthy = no
			has_trait = wounded
			has_trait = ill
		}
		add = -100
		desc = ACTIVITY_GUEST_HEALTH_REASON
	}
	modifier = {
		add = 100
		is_courtier_of = scope:host
		scope:host = {
			is_landless_adventurer = yes
		}
		desc = ACTIVITY_GUEST_ADVENTURER_REASON
	}
	modifier = {
		exists = scope:host.var:hunt_murder_accident_attempt
		add = {
			value = 0
			add = scope:host.var:hunt_murder_accident_attempt
			multiply = -10
		}
		desc = ACTIVITY_GUEST_ACCIDENTAL_HUNT_DEATH_REASON
	}
}

# PILGRIMAGE

activity_guest_pilgrimage_ai_accept_modifier = {
	#############
	# LIFESTYLE #
	#############
	modifier = {
		faith = scope:host.faith
		NOT = { has_trait = pilgrim }
		add = {
			value = 10
			if = {
				limit = { religion = religion:islam_religion }
				multiply = 2
			}
		}
		desc = ACTIVITY_GUEST_NOT_PILGRIM_REASON
	}
	modifier = {
		faith = scope:host.faith
		has_trait = pilgrim
		add = -10
		desc = ACTIVITY_GUEST_PILGRIM_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = zealous
		add = 10
		desc = ACTIVITY_GUEST_ZEALOUS_REASON
	}
	modifier = {
		has_trait = humble
		add = 10
		desc = ACTIVITY_GUEST_HUMBLE_REASON
	}
	modifier = {
		has_trait = cynical
		add = -10
		desc = ACTIVITY_GUEST_CYNICAL_REASON
	}
	modifier = {
		has_trait = arrogant
		add = -10
		desc = ACTIVITY_GUEST_ARROGANT_REASON
	}
	##########
	# HEALTH #
	##########
	activity_guest_health_ai_accept_modifier = yes
	#########
	# OTHER #
	#########
	modifier = {
		is_female = yes
		has_trait = devoted
		add = 5
		desc = ACTIVITY_GUEST_NUN_REASON
	}
	modifier = {
		is_male = yes
		has_trait = devoted
		add = 5
		desc = ACTIVITY_GUEST_MONK_REASON
	}
	modifier = {
		is_male = yes
		is_clergy = yes
		NOT = { has_trait = devoted }
		add = 5
		desc = ACTIVITY_GUEST_PRIEST_REASON
	}
	modifier = {
		is_female = yes
		is_clergy = yes
		NOT = { has_trait = devoted }
		add = 5
		desc = ACTIVITY_GUEST_PRIESTESS_REASON
	}
	modifier = {
		faith = { has_doctrine = tenet_armed_pilgrimages }
		add = 5
		desc = ACTIVITY_GUEST_ARMED_PILGRIMAGES_REASON
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_zealous_people }
		add = 5
		desc = ACTIVITY_GUEST_ZEALOUS_PEOPLE_REASON
	}
}

### GRAND ACTIVITIES

### TOURNAMENTS

activity_guest_tournament_ai_accept_modifier = {
	modifier = {
		prowess < 10
		add = {
			value = prowess
			multiply = -1
		}
		desc = ACTIVITY_GUEST_PROWESS
	}
	modifier = {
		prowess >= 10
		add = prowess
		desc = ACTIVITY_GUEST_PROWESS
	}
	modifier = {
		martial < 10
		add = {
			value = martial
			multiply = -1
		}
		desc = ACTIVITY_GUEST_MARTIAL
	}
	modifier = {
		martial >= 10
		add = martial
		desc = ACTIVITY_GUEST_MARTIAL
	}
	modifier = {
		diplomacy < 10
		add = {
			value = diplomacy
			multiply = -1
		}
		desc = ACTIVITY_GUEST_DIPLOMACY
	}
	modifier = {
		diplomacy >= 10
		add = diplomacy
		desc = ACTIVITY_GUEST_DIPLOMACY
	}
	modifier = {
		OR = {
			has_short_disease_trigger = yes
			has_serious_disease_trigger = yes
		}
		add = -50
		desc = ACTIVITY_GUEST_SICK
	}
	modifier = {
		is_at_war = yes
		add = -100
		desc = ACTIVITY_GUEST_WAR
	}
	#############
	# LIFESTYLE #
	#############
	modifier = {
		has_trait = lifestyle_blademaster
		add = 15
		desc = ACTIVITY_GUEST_BLADEMASTER_REASON
	}
	modifier = {
		has_trait = tourney_participant
		add = 15
		desc = ACTIVITY_GUEST_HASTILUDER_REASON
	}
	#############
	# EDUCATION #
	#############
	modifier = {
		has_trait = education_martial_prowess_1
		add = 1
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_2
		add = 3
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_3
		add = 5
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_prowess_4
		add = 7
		desc = ACTIVITY_MARTIAL_PROWESS_REASON
	}
	modifier = {
		has_trait = education_martial_1
		add = 1
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_2
		add = 3
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_3
		add = 5
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_4
		add = 7
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	modifier = {
		has_trait = education_martial_5
		add = 10
		desc = ACTIVITY_MARTIAL_EDUCATION_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = brave
		add = 15
		desc = ACTIVITY_GUEST_BRAVE_REASON
	}
	modifier = {
		has_trait = arrogant
		add = 10
		desc = ACTIVITY_GUEST_ARROGANT_REASON
	}
	modifier = {
		has_trait = craven
		add = -50
		desc = ACTIVITY_GUEST_CRAVEN_REASON
	}
	modifier = {
		has_trait = lazy
		add = -20
		desc = ACTIVITY_GUEST_LAZY_REASON
	}
	modifier = {
		has_trait = humble
		add = -10
		desc = ACTIVITY_GUEST_HUMBLE_REASON
	}
	modifier = {
		ai_boldness < 0
		add = {
			value = ai_boldness
			divide = 2
		}
		desc = AI_VALUE_MODIFIER_BOLDNESS
	}
	##########
	# STRESS #
	##########
	modifier = {
		has_trait = athletic
		add = 5
		desc = ACTIVITY_GUEST_ATHLETIC_REASON
	}
	############
	# PHYSIQUE #
	############
	modifier = {
		has_trait = giant
		add = 5
		desc = ACTIVITY_GUEST_GIANT_REASON
	}
	modifier = {
		has_trait = strong
		add = 5
		desc = ACTIVITY_GUEST_STRONG_REASON
	}
	modifier = {
		has_trait = physique_good_1
		add = 5
		desc = ACTIVITY_GUEST_PHYSIQUE_GOOD_1_REASON
	}
	modifier = {
		has_trait = physique_good_2
		add = 10
		desc = ACTIVITY_GUEST_PHYSIQUE_GOOD_2_REASON
	}
	modifier = {
		has_trait = physique_good_3
		add = 15
		desc = ACTIVITY_GUEST_PHYSIQUE_GOOD_3_REASON
	}
	############
	#  HEALTH  #
	############
	modifier = {
		OR = {
			has_trait = wounded_1
			has_trait = wounded_2
			has_trait = wounded_3
		}
		add = -15
		desc = ACTIVITY_GUEST_WOUNDED_REASON
	}
	modifier = {
		has_trait = one_legged
		add = -20
		desc = ACTIVITY_GUEST_ONE_LEGGED_REASON
	}
	modifier = {
		has_trait = wheezing
		add = -20
		desc = ACTIVITY_GUEST_WHEEZING_REASON
	}
	modifier = {
		has_trait = maimed
		add = -20
		desc = ACTIVITY_GUEST_MAIMED_REASON
	}
	###########
	# CULTURE #
	###########
	modifier = {
		culture = { has_cultural_pillar = ethos_bellicose }
		add = 5
		desc = ACTIVITY_GUEST_BELLICOSE_REASON
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_chivalry }
		add = 5
		desc = ACTIVITY_GUEST_CHIVALRY_REASON
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_martial_admiration }
		add = 5
		desc = ACTIVITY_GUEST_MARTIAL_ADMIRATION_REASON
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_warrior_culture }
		add = 5
		desc = ACTIVITY_GUEST_WARRIOR_CULTURE_REASON
	}
	#modifier = { #Warcraft
	#	culture = { has_cultural_tradition = tradition_chanson_de_geste }
	#	add = 5
	#	desc = ACTIVITY_GUEST_CHANSON_REASON
	#}
	########
	# RANK #
	########
	modifier = {
		is_knight = yes
		add = 20
		desc = ACTIVITY_GUEST_KNIGHT_REASON
	}
	modifier = {
		is_courtier = yes
		add = 5
		desc = ACTIVITY_GUEST_COURTIER_REASON
	}
	modifier = {
		is_pool_guest = yes
		add = 5
		desc = ACTIVITY_GUEST_GUEST_REASON
	}
	modifier = {
		has_court_position = champion_court_position
		add = 20
		desc = champion_court_position
	}
	##############
	# GOVERNMENT #
	##############
	modifier = {
		government_has_flag = government_is_republic
		add = -250
		desc = ACTIVITY_GUEST_REPUBLIC_THEOCRACY
	}
	modifier = {
		government_has_flag = government_is_theocracy
		add = -250
		desc = ACTIVITY_GUEST_REPUBLIC_THEOCRACY
	}
	modifier = {
		highest_held_title_tier = tier_barony
		NOR = {
			is_close_or_extended_family_of = scope:host
			is_consort_of = scope:host
			has_relation_friend = scope:host
			has_relation_lover = scope:host
			is_powerful_vassal_of = scope:host
		}
		add = -250
		desc = ACTIVITY_GUEST_BARON
	}
	#########
	# REALM #
	#########
	modifier = {
		is_ruler = yes
		highest_held_title_tier <= tier_county
		NOT = { top_liege = scope:host.top_liege }
		NOR = {
			is_close_or_extended_family_of = scope:host
			is_consort_of = scope:host
			has_relation_friend = scope:host
			has_relation_lover = scope:host
			is_powerful_vassal_of = scope:host
			character_is_realm_neighbor = scope:host
		}
		add = -30
		desc = ACTIVITY_GUEST_OUTSIDE_REALM_REASON
	}
}

activity_tournament_violent_modifier = {
	modifier = {
		factor = 2
		has_trait = strong
	}
	modifier = {
		factor = 2
		has_trait = physique_good
	}
	modifier = {
		factor = 2
		has_trait = wrathful
	}
	modifier = {
		factor = 2
		has_trait = berserker
	}
}

activity_tournament_wager_ai_option_modifier = {
	ai_value_modifier = {
		ai_boldness = 1
	}
	modifier = {
		has_trait = arrogant
		exists = var:contest_aptitude
		factor = 0.75
	}
	modifier = {
		has_trait = brave
		factor = 2
	}
	opinion_modifier = {
		who = root
		opinion_target = $TARGET$
		multiplier = 0.5
	}
}

# TEAM

activity_contest_team_size_modifier = {
	modifier = { # Prefer smaller team to achieve balance
		factor = 10
		tournament_team_$SMALLER$_size < tournament_team_$LARGER$_size
	}
}

activity_contest_team_preference_modifier = {
	modifier = { # Want to be on same team as liege
		factor = 2
		exists = scope:new_list_member.liege
		scope:activity = {
			any_guest_subset_current_phase = {
				name = team_$TEAM$
				this = scope:new_list_member.liege
			}
		}
	}
	modifier = { # Want to be on same team as friends/lovers
		factor = 2
		scope:activity = {
			any_guest_subset_current_phase = {
				name = team_$TEAM$
				has_any_good_relationship_with_character_trigger = { CHARACTER = scope:new_list_member }
			}
		}
	}
	modifier = { # Want to be on different team from murder targets
		factor = 0.1
		scope:activity = {
			any_guest_subset_current_phase = {
				name = team_$TEAM$
				has_activity_intent = murder_attendee_intent
				intent_target = scope:new_list_member
			}
		}
	}    
	modifier = { # Want to be on different team from rivals
		factor = 0.5
		scope:activity = {
			any_guest_subset_current_phase = {
				name = team_$TEAM$
				has_any_bad_relationship_with_character_trigger = { CHARACTER = scope:new_list_member }
			}
		}
	}
	modifier = { # Want to be on same team as champion employer
		factor = 100
		OR = {
			AND = {
				has_court_position = champion_court_position
				scope:activity = {
					any_guest_subset_current_phase = {
						name = team_$TEAM$
						this = scope:new_list_member.liege
					}
				}
			}
			AND = {
				employs_court_position = champion_court_position
				scope:activity = {
					any_guest_subset_current_phase = {
						name = team_$TEAM$
						has_court_position = champion_court_position
						this.liege = scope:new_list_member
					}
				}
			}
		}
	}
}

activity_tournament_contest_team_score_modifier = {
	modifier = {
		add = {
			value = 0
			every_guest_subset_current_phase = {
				name = team_$TEAM$
				limit = {
					is_alive = yes
					exists = var:contest_aptitude
				}
				add = var:contest_aptitude
			}
			divide = 2
		}
	}
}

activity_tournament_contest_entrant_preference_modifier = {
	# Prefer skilled contestants
	modifier = { add = contest_$SKILL$_aptitude_value }
	# Prefer hosts
	modifier = {
		this = scope:host
		add = 1000
	}
	modifier = {
		exists = scope:host.court_position:champion_court_position
		this = scope:host.court_position:champion_court_position
		add = 1000
	}
	# Prefer hosts relations
	modifier = {
		has_any_good_relationship_with_character_trigger = { CHARACTER = root }
		factor = 50
	}
	modifier = {
		has_any_bad_relationship_with_character_trigger = { CHARACTER = root }
		factor = 50
	}
	# Prefer same rank as host
	modifier = {
		is_playable_character = yes
		exists = primary_title
		primary_title.tier = scope:host.primary_title.tier
		factor = 50
	}
	# Prefer players
	modifier = {
		is_ai = no
		factor = 100
	}
	# Prefer host intent targeters
	modifier = {
		exists = intent_target
		intent_target = scope:host
		factor = 50
	}
	# Prefer knights
	modifier = {
		is_knight = yes
		factor = 5
	}
	# Prefer vassals
	modifier = {
		factor = 5
		is_vassal_of = root
	}
	modifier = {
		factor = 5
		is_powerful_vassal_of = root
	}
	# Prefer rulers
	modifier = {
		is_playable_character = yes
		factor = {
			value = primary_title.tier
			multiply = 2
		}
	}
	# Prefer nobles
	modifier = {
		is_lowborn = yes
		factor = 0.1
	}
	# Prefer non-republican
	modifier = {
		government_has_flag = government_is_republic
		factor = 0.1
	}
	modifier = {
		NOT = {
			scope:activity = { has_current_phase = tournament_phase_board_game }
		}
		has_trait = craven
		factor = 0.1
	}
}

activity_tournament_pas_darmes_modifier = {
	# Skill
	modifier = { add = prowess }
	# Age
	modifier = {
		age >= 30
		factor = 2
	}
	# Rank
	modifier = {
		is_knight = yes
		factor = 4
	}
	# Education
	modifier = { 
		has_trait = education_martial_prowess
		factor = 4
	}
	modifier = { # Prefer martial
		has_trait = education_martial
		factor = 2
	}
	# Traits
	modifier = {
		has_trait = brave
		factor = 2
	}
	modifier = {
		has_trait = arrogant
		factor = 2
	}
	# Culture
	#modifier = { #Warcraft
	#	culture = { has_cultural_tradition = tradition_chanson_de_geste }
	#	factor = 2
	#}
	modifier = {
		culture = { has_cultural_tradition = tradition_chivalry }
		factor = 2
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_martial_admiration }
		factor = 2
	}
	modifier = {
		culture = { has_cultural_tradition = tradition_fp1_performative_honour }
		factor = 2
	}
}

# WEDDINGS

activity_guest_wedding_ai_accept_modifier = {
	###########
	# SPOUSES #
	###########
	modifier = {
		add = 10000
		OR = {
			this = scope:spouse_1
			this = scope:spouse_2
		}
		desc = ACTIVITY_GUEST_MY_WEDDING
	}
	###########################
	# FAMILY OF SPOUSES       #
	###########################
	modifier = {
		add = 100
		OR = {
			is_close_family_of = scope:spouse_1
			is_close_family_of = scope:spouse_2
		}
		desc = ACTIVITY_GUEST_CLOSE_FAMILY_REASON
	}
	 modifier = {
		add = 50
		OR = {
			is_extended_family_of = scope:spouse_1
			is_extended_family_of = scope:spouse_2
		}
		desc = ACTIVITY_GUEST_EXTENDED_FAMILY_REASON
	}
	modifier = {
		add = 100
		OR = {
			scope:spouse_1.matchmaker ?= this
			scope:spouse_2.matchmaker ?= this
		}
		desc = ACTIVITY_GUEST_MATCHMAKER
	}
	modifier = {
		add = 200
		OR = {
			is_parent_of = scope:spouse_1
			is_parent_of = scope:spouse_2
		}
		desc = ACTIVITY_GUEST_PARENTS
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = gluttonous
		add = 10
		desc = ACTIVITY_GUEST_GLUTTONOUS_REASON
	}
	modifier = {
		has_trait = arrogant
		add = 10
		desc = ACTIVITY_GUEST_ARROGANT_REASON
	}
	##########
	# STRESS #
	##########
	modifier = {
		has_trait = comfort_eater
		add = 10
		desc = ACTIVITY_GUEST_COMFORT_EATER_REASON
	}
	modifier = {
		has_trait = drunkard
		add = 10
		desc = ACTIVITY_GUEST_DRUNKARD_REASON
	}
	#########
	# OTHER #
	#########
	modifier = {
		liege = scope:host
		scope:host.faith = { has_doctrine = tenet_ritual_celebrations }
		add = 15
		desc = ACTIVITY_GUEST_RITUAL_CELEBRATIONS_REASON
	}
	modifier = { # It's very unlikely that foreign rulers that are much higher rank than you will come
		is_playable_character = yes
		NOT = { top_liege = scope:host.top_liege }
		NOT = { is_close_or_extended_family_of = scope:host }
		tier_difference = {
			target = scope:host
			value >= 2
		}
		add = {
			value = scope:host.highest_held_title_tier
			subtract = highest_held_title_tier
			multiply = 30
		}
		desc = ACTIVITY_GUEST_HIGHER_RANK_REASON
	}
}

activity_guest_health_ai_accept_modifier = {
	modifier = {
		has_trait = one_legged
		add = -10
		desc = ACTIVITY_GUEST_ONE_LEGGED_REASON
	}
	modifier = {
		has_trait = maimed
		add = -10
		desc = ACTIVITY_GUEST_MAIMED_REASON
	}
	modifier = {
		has_trait = wheezing
		add = -10
		desc = ACTIVITY_GUEST_WHEEZING_REASON
	}
	modifier = {
		has_trait = physique_bad_1
		add = -5
		desc = ACTIVITY_GUEST_PHYSIQUE_BAD_1_REASON
	}
	modifier = {
		has_trait = physique_bad_2
		add = -10
		desc = ACTIVITY_GUEST_PHYSIQUE_BAD_2_REASON
	}
	modifier = {
		has_trait = physique_bad_3
		add = -15
		desc = ACTIVITY_GUEST_PHYSIQUE_BAD_3_REASON
	}
}

### Old Activity Modifiers - Keep

interesting_feast_participant_modifier = {
	modifier = {
		add = 10
		is_of_major_interest_to_root_trigger = yes
	}
	modifier = {
		add = 5
		is_of_minor_interest_to_root_trigger = yes
	}
}

playdate_close_age_scripted_modifier = {
	compare_modifier = {
		value = {
			if = {
				limit = {
					age > root.age
				}
				add = age
				subtract = root.age
			}
			else = {
				add = root.age
				subtract = age
			}
		}
		multiplier = -0.1
	}
}

petition_liege_councillor_compare_modifier = {
	modifier = {
		add = 500
		$JOB_TAKER$ = {
			OR = {
				has_trait = education_$SKILL$_1
				has_trait = education_$SKILL$_2
				has_trait = education_$SKILL$_3
				has_trait = education_$SKILL$_4
				has_trait = education_$SKILL$_5
			}
		}
	}
	modifier = {
		add = 10
		NOT = { has_councillor_for_skill = $SKILL$ }
	}
	modifier = {
		add = 10
		NOT = { has_councillor_for_skill = $SKILL$ }
		$JOB_TAKER$.$SKILL$ >= mediocre_skill_rating
	}
	modifier = {
		add = 20
		$JOB_TAKER$ = { highest_skill = $SKILL$ }
	}
	modifier = {
		add = $JOB_TAKER$.$SKILL$
	}
	modifier = {
		add = 20
		exists = $JOB_TAKER$.cp:councillor_$ROLE$
		$JOB_TAKER$.cp:councillor_$ROLE$.$SKILL$ < councillor_$SKILL$_threshold_value
	}
}

petition_liege_cost_negative_modifier = {
	modifier = { # Medium petition cost
		petition_liege_medium_cost_trigger = yes
		add = -10
	}
	modifier = { # High petition cost
		petition_liege_high_cost_trigger = yes
		add = -20
	}
	modifier = { # Likes second party a lot
		petition_liege_likes_trigger = { COMPARE = scope:second_party }
		add = -20
	}
}

hunt_activity_master_aptitude_positive_modifier = {
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value <= 1
			}
		}
		factor = 0.5
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value <= 2
			}
		}
		factor = 0.75
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value >= 3
			}
		}
		factor = 1.25
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value >= 4
			}
		}
		factor = 1.5
	}
}

hunt_activity_master_aptitude_negative_modifier = {
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value <= 1
			}
		}
		factor = 1.5
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value <= 2
			}
		}
		factor = 1.25
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value >= 3
			}
		}
		factor = 0.75
	}
	modifier = {
		exists = $LIEGE$.court_position:master_of_hunt_court_position
		$LIEGE$.court_position:master_of_hunt_court_position = {
			aptitude = {
				court_position = master_of_hunt_court_position
				value >= 4
			}
		}
		factor = 0.5
	}
}

hunt_activity_lifestyle_modifier = {
	modifier = {
		has_trait = lifestyle_hunter
		add = 0.5
	}
	modifier = {
		hunt_lifestyle_track_greater_equal_trigger = { TRACK = $TRACK$ GREATER_EQUAL = 50 }
		add = 1
	}
	modifier = {
		hunt_lifestyle_track_greater_equal_trigger = { TRACK = $TRACK$ GREATER_EQUAL = 100 }
		add = 1.5
	}
}

hunt_activity_sighting_county_modifier = {
	modifier = {
		add = {
			value = 0
			subtract = development_level
			divide = 4
		}
	}
	modifier = {
		add = 2
		target_is_de_jure_liege_or_above = root.capital_county.duchy.kingdom
	}
	modifier = {
		any_county_province = {
			OR = {
				terrain = taiga
				terrain = forest
				terrain = mountains
				terrain = jungle
			}
		}
		add = 10
	}
}

hunt_activity_sighting_terrain_modifier = {
	modifier = {
		OR = {
			terrain = desert
			terrain = desert_mountains
			terrain = oasis
			terrain = wetlands
			terrain = farmlands
			terrain = floodplains
		}
		add = -7.5
	}
	modifier = {
		OR = {
			terrain = taiga
			terrain = forest
			terrain = mountains
			terrain = jungle
		}
		add = 7.5
	}
}

hunt_activity_sighting_building_modifier = {
	modifier = {
		add = 0.5
		$PROVINCE$ = { has_building = outposts_01 }
	}
	modifier = {
		add = 1
		$PROVINCE$ = { has_building = outposts_02 }
	}
	modifier = {
		add = 1.5
		$PROVINCE$ = { has_building = outposts_03 }
	}
	modifier = {
		add = 2
		$PROVINCE$ = { has_building = outposts_04 }
	}
	modifier = {
		add = 2.5
		$PROVINCE$ = { has_building = outposts_05 }
	}
	modifier = {
		add = 3
		$PROVINCE$ = { has_building = outposts_06 }
	}
	modifier = {
		add = 3.5
		$PROVINCE$ = { has_building = outposts_07 }
	}
	modifier = {
		add = 4
		$PROVINCE$ = { has_building = outposts_08 }
	}
	modifier = {
		add = 0.5
		$PROVINCE$ = { has_building = watchtowers_01 }
	}
	modifier = {
		add = 1
		$PROVINCE$ = { has_building = watchtowers_02 }
	}
	modifier = {
		add = 1.5
		$PROVINCE$ = { has_building = watchtowers_03 }
	}
	modifier = {
		add = 2
		$PROVINCE$ = { has_building = watchtowers_04 }
	}
	modifier = {
		add = 2.5
		$PROVINCE$ = { has_building = watchtowers_05 }
	}
	modifier = {
		add = 3
		$PROVINCE$ = { has_building = watchtowers_06 }
	}
	modifier = {
		add = 3.5
		$PROVINCE$ = { has_building = watchtowers_07 }
	}
	modifier = {
		add = 4
		$PROVINCE$ = { has_building = watchtowers_08 }
	}
}

hunt_activity_game_building_modifier = {
	modifier = {
		add = 0.5
		$PROVINCE$ = { has_building = hunting_grounds_01 }
	}
	modifier = {
		add = 1
		$PROVINCE$ = { has_building = hunting_grounds_02 }
	}
	modifier = {
		add = 1.5
		$PROVINCE$ = { has_building = hunting_grounds_03 }
	}
	modifier = {
		add = 2
		$PROVINCE$ = { has_building = hunting_grounds_04 }
	}
	modifier = {
		add = 2.5
		$PROVINCE$ = { has_building = hunting_grounds_05 }
	}
	modifier = {
		add = 3
		$PROVINCE$ = { has_building = hunting_grounds_06 }
	}
	modifier = {
		add = 3.5
		$PROVINCE$ = { has_building = hunting_grounds_07 }
	}
	modifier = {
		add = 4
		$PROVINCE$ = { has_building = hunting_grounds_08 }
	}
	modifier = {
		add = 1
		$PROVINCE$ = { has_building = royal_forest_01 }
	}
	modifier = {
		add = 2
		$PROVINCE$ = { has_building = royal_forest_02 }
	}
	modifier = {
		add = 3
		$PROVINCE$ = { has_building = royal_forest_03 }
	}
	modifier = {
		add = 4
		$PROVINCE$ = { has_building = rainbow_mountains_01 }
	}
}

hunt_activity_organization_modifier = {
	modifier = {
		add = 1
		employs_court_position = master_of_hunt_court_position
	}
	modifier = {
		factor = 0.5
		government_has_flag = government_is_tribal
	}
}

hunt_activity_building_development_modifier = {
	modifier = {
		add = 1
		$PROVINCE$ = { terrain = farmlands }
	}
	modifier = {
		add = {
			value = $PROVINCE$.county.development_level
			divide = 10
			floor = yes
		}
		$PROVINCE$.county.development_level >= 5
	}
	modifier = {
		add = {
			value = $PROVINCE$.num_buildings
			divide = 5
		}
		$PROVINCE$.num_buildings >= 1
	}
	modifier = {
		factor = 1.25
		$PROVINCE$ = { has_building_or_higher = logging_camps_01 }
	}
	modifier = {
		factor = 1.25
		$PROVINCE$ = { has_building_or_higher = peat_quarries_01 }
	}
	modifier = {
		factor = 1.25
		$PROVINCE$ = { has_building_or_higher = quarries_01 }
	}
	modifier = {
		factor = 1.25
		$PROVINCE$ = { has_building_or_higher = plantations_01 }
	}
	modifier = {
		factor = 1.25
		$PROVINCE$ = { has_building_or_higher = farm_estates_01 }
	}
}

hunt_activity_hunter_lifestyle_modifier = {
	modifier = {
		add = 15
		culture = { has_cultural_parameter = hunting_traits_more_common }
	}
	modifier = {
		add = -10
		has_trait = craven
	}
	modifier = {
		add = 10
		has_trait = brave
	}
	modifier = {
		add = 10
		OR = {
			has_lifestyle = martial_lifestyle
			has_lifestyle = learning_lifestyle
		}
	}
	modifier = {
		add = 5
		OR = {
			has_trait = education_martial
			has_trait = education_learning
			has_trait = education_martial_prowess
		}
	}
	modifier = {
		add = 10
		number_of_lifestyle_traits < 1
	}
	modifier = {
		add = -10
		number_of_lifestyle_traits >= 1
	}
}

hunt_murderer_modifier = {
	modifier = {
		add = 1
		$MURDERER$ = { has_trait = brave }
	}
	modifier = {
		add = -1
		$MURDERER$ = { has_trait = craven }
	}
	modifier = {
		add = 1
		$MURDERER$ = { has_trait = callous }
	}
	modifier = {
		add = 1
		$MURDERER$ = { has_trait = sadistic }
	}
	modifier = {
		add = -1
		$MURDERER$ = { has_trait = compassionate }
	}
	modifier = {
		add = 1
		$MURDERER$ = { has_trait = ambitious }
	}
	modifier = {
		add = -1
		$MURDERER$ = { has_trait = content }
	}
	 modifier = {
		add = 1
		$MURDERER$ = { has_trait = arbitrary }
	}
	modifier = {
		add = -1
		$MURDERER$ = { has_trait = just }
	}
	modifier = {
		add = 1
		$MURDERER$ = { ai_rationality < very_low_positive_ai_value }
	}
	modifier = {
		add = 1
		$MURDERER$ = { ai_vengefulness >= medium_positive_ai_value }
	}
	modifier = {
		add = 1
		$MURDERER$ = { has_relation_rival = $TARGET$ }
	}
	modifier = {
		add = 1
		$MURDERER$ = { has_relation_nemesis = $TARGET$ }
	}
	modifier = {
		add = 1
		exists = $TARGET$.primary_title
		$MURDERER$ = { has_strong_claim_on = $TARGET$.primary_title }
	}
	modifier = {
		add = 1
		$TARGET$ = {
			player_heir_position = { target = $MURDERER$ value >= 2 }
		}
	}
}

hunt_boulder_jump_success_modifiers = {
	modifier = {
		add = {
			value = $CHARACTER$.prowess
			divide = 4
		}
	}
	modifier = { add = $CHARACTER$.health }
	modifier = {
		$CHARACTER$ = { has_trait = athletic }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = physique_good }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = intellect_good }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = giant }
		factor = 1.5
	}
}

hunt_boulder_jump_failure_modifiers = {
   modifier = {
		$CHARACTER$ = { has_trait = one_legged }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = clubfooted }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = dwarf }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_character_modifier = obese_modifier }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = intellect_bad }
		factor = 1.5
	}
	modifier = {
		$CHARACTER$ = { has_trait = wounded }
		factor = 1.5
	}
}


hunt_kill_melee_modifiers = {
	modifier = {
		has_trait = strong
		factor = 1.25
	}
	modifier = {
		has_trait = lifestyle_blademaster
		factor = 1.25
	}
	modifier = {
		has_trait = lifestyle_blademaster
		has_trait_xp = {
			trait = lifestyle_blademaster
			value >= 50
		}
		factor = 1.25
	}
	modifier = {
		has_trait = lifestyle_blademaster
		has_trait_xp = {
			trait = lifestyle_blademaster
			value >= 100
		}
		factor = 1.5
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = foot
			value >= 25
		}
		factor = 1.25
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = foot
			value >= 50
		}
		factor = 1.25
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = foot
			value >= 75
		}
		factor = 1.25
	}
}

hunt_kill_bow_modifiers = {
	modifier = {
		any_equipped_character_artifact = {
			OR = {
				artifact_type = bow
				artifact_type = longbow
				artifact_type = composite
				artifact_type = crossbow
			}
		}
		factor = 1.25
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = bow
			value >= 25
		}
		factor = 1.25
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = bow
			value >= 50
		}
		factor = 1.25
	}
	modifier = {
		has_trait = tourney_participant
		has_trait_xp = {
			trait = tourney_participant
			track = bow
			value >= 75
		}
		factor = 1.25
	}       
}

hunt_kill_hunter_modifiers = {
	modifier = {
		has_trait = lifestyle_hunter
		factor = 1.25
	}
	modifier = {
		hunt_lifestyle_track_greater_equal_trigger = { TRACK = hunter GREATER_EQUAL = 50 }
		factor = 1.25
	}
	modifier = {
		hunt_lifestyle_track_greater_equal_trigger = { TRACK = hunter GREATER_EQUAL = 100 }
		factor = 1.25
	}
}

hunt_likely_injured_modifiers = {
	modifier = {
		factor = 0.5
		has_trait = lifestyle_hunter
	}
	modifier = {
		factor = 0.5
		has_trait = intellect_good
	}
	modifier = {
		factor = 0.5
		has_trait = physique_good
	}
	modifier = {
		factor = 0.5
		has_trait = athletic
	}
	modifier = {
		factor = 0.5
		has_trait = strong
	}
	modifier = {
		factor = 0.5
		has_trait = intellect_good
	}
	modifier = {
		add = {
			value = 0
			subtract = prowess
		}
	}
}

hunt_relevant_participant_modifiers = {
	# Hunter
	modifier = {
		factor = 2
		trigger = { scope:hunt_participant_archetype = flag:hunter }
		has_trait = lifestyle_hunter
		has_trait_xp = {
			trait = lifestyle_hunter
			track = hunter
			value >= 25
		}
	}
	modifier = {
		add = 90
		trigger = {
			OR = {
				scope:hunt_participant_archetype = flag:hunter
				scope:hunt_participant_archetype = flag:falconer
			}
		}
		scope:activity.activity_host.court_position:master_of_hunt_court_position ?= this 
	}
	modifier = {
		factor = 2
		trigger = {
			OR = {
				scope:hunt_participant_archetype = flag:hunter
				scope:hunt_participant_archetype = flag:falconer
			}
		}
		has_trait = lifestyle_hunter
	}
	modifier = {
		factor = 2
		trigger = { scope:hunt_participant_archetype = flag:falconer }
		has_trait = lifestyle_hunter
		has_trait_xp = {
			trait = lifestyle_hunter
			track = falconer
			value >= 25
		}
	}
	modifier = {
		factor = 2
		trigger = {
			OR = {
				scope:hunt_participant_archetype = flag:hunter
				scope:hunt_participant_archetype = flag:falconer
			}
		}
		OR = {
			has_trait = intellect_good
			has_trait = shrewd
		}
	}
	modifier = {
		factor = 2
		trigger = {
			OR = {
				scope:hunt_participant_archetype = flag:hunter
				scope:hunt_participant_archetype = flag:falconer
			}
		}
		OR = {
			has_trait = diligent
			has_trait = patient
		}
	}
	# Bumbling
	modifier = {
		factor = 2
		trigger = { scope:hunt_participant_archetype = flag:bumbling }
		NOT = { has_trait = lifestyle_hunter }
	}
	modifier = {
		factor = 2
		trigger = { scope:hunt_participant_archetype = flag:bumbling }
		OR = {
			has_trait = intellect_bad
			has_trait = dull
		}
	}
	modifier = {
		factor = 2
		trigger = { scope:hunt_participant_archetype = flag:bumbling }
		OR = {
			has_trait = lazy
			has_trait = impatient
		}
	}
	# Afeared
	modifier = {
		factor = 2
		#TODO trigger = { scope:hunt_participant_archetype = flag:afeared }
		has_trait = craven
	}
	modifier = {
		factor = 0
		#TODO trigger = { scope:hunt_participant_archetype = flag:afeared }
		has_trait = brave
	}
	# Not priest
	modifier = {
		factor = 0
		is_clergy = yes
	}
	modifier = {
		factor = 0
		hunt_dharmic_pacificist_trigger = yes
	}
}

hunt_activity_realm_size_modifier = {
	modifier = {
		realm_size < tiny_realm_size
		factor = 0.5
	}
	modifier = {
		realm_size >= tiny_realm_size
		realm_size < minor_realm_size
		factor = 0.75
	}
	modifier = {
		realm_size >= major_realm_size
		realm_size < massive_realm_size
		factor = 1.25
	}
	modifier = {
		realm_size >= massive_realm_size
		factor = 1.5
	}
}

activity_guest_chariot_race_ai_accept_modifier = {
	#############
	# LIFESTYLE #
	#############
	modifier = {
		has_trait = lifestyle_reveler
		add = 10
		desc = ACTIVITY_GUEST_REVELER_REASON
	}
	###############
	# PERSONALITY #
	###############
	modifier = {
		has_trait = ambitious
		add = 5
		desc = ACTIVITY_GUEST_AMBITIOUS_REASON
	}
	modifier = {
		has_trait = greedy
		add = 5
		desc = ACTIVITY_GUEST_GREEDY_REASON
	}
	# Courtly vassals more likely to accept
	modifier = {
		is_vassal_of = scope:host
		has_vassal_stance = courtly
		add = 20
		desc = ACTIVITY_GUEST_COURTLY_REASON
	}
	# Glory Hound vassals more likely to accept
	modifier = {
		is_vassal_of = scope:host
		has_vassal_stance = glory_hound
		add = 20
		desc = ACTIVITY_GUEST_GLORY_HOUND_REASON
	}
	##########
	# STRESS #
	##########
	modifier = {
		has_trait = athletic
		add = 10
		desc = ACTIVITY_GUEST_ATHLETIC_REASON
	}
	##########
	# TENETS #
	##########
	modifier = {
		liege = scope:host
		faith = { has_doctrine = tenet_ritual_celebrations }
		add = 15
		desc = ACTIVITY_GUEST_RITUAL_CELEBRATIONS_REASON
	}
	#########
	# OTHER #
	#########
	modifier = {
		has_any_charioteer_trait = yes
		add = 20
		desc = ACTIVITY_GUEST_CHARIOTEER_REASON
	}
	modifier = {
		is_eunuch_trigger = yes
		add = 5
		desc = ACTIVITY_GUEST_EUNUCH_REASON
	}
	modifier = {
		has_trait = born_in_the_purple
		add = 10
		desc = ACTIVITY_GUEST_BORN_IN_THE_PURPLE_REASON
	}
	#################
	# SPECIAL GUEST #
	#################
	modifier = {
		add = 100
		OR = {
			scope:honorary_guest ?= this
			scope:honorary_guest_regular ?= this
		}
	}
}

chariot_race_4050_agents_positive_modifiers = {
	modifier = {
		add = 40
		scope:victim = {
			age < 14
		}
	}
	modifier = {
		add = 20
		scope:victim = {
			OR = {
				has_trait = infirm
				has_trait = incapable
			}
		}
	}
	modifier = {
		add = 30
		exists = scope:lackey
	}
	modifier = {
		add = 20
		scope:victim = {
			current_weight <= underweight_threshold
		}
	}
	modifier = {
		add = 20
		highest_held_title_tier >= tier_kingdom
	}
}
chariot_race_4050_agents_negative_modifiers = {
	modifier = {
		add = 50
		scope:victim = { employs_court_position = bodyguard_court_position }
		scope:victim = {
			any_court_position_holder = {
				type = bodyguard_court_position
				location = scope:victim.location
				aptitude = {
					court_position = bodyguard_court_position
					value >= 4
				}
			}
		}
	}
	modifier = {
		add = 25
		scope:victim = { employs_court_position = bodyguard_court_position }
		scope:victim = {
			any_court_position_holder = {
				type = bodyguard_court_position
				location = scope:victim.location
				aptitude = {
					court_position = bodyguard_court_position
					value >= 2
				}
			}
		}
	}
	modifier = {
		add = 20
		scope:victim = { prowess >= high_skill_rating }
	}
	modifier = {
		add = 40
		scope:victim = {
			OR = {
				AND = {
					exists = scope:activity.special_guest:honorary_guest
					this = scope:activity.special_guest:honorary_guest
				}
				is_close_family_of = scope:host
				is_consort_of = scope:host
			}
		}
	}
	modifier = {
		add = 20
		scope:victim = {
			has_trait_xp = {
				trait = tourney_participant
				track = foot
				value > 50
			}
		}
	}
	modifier = {
		add = 20
		scope:victim = {
			current_weight >= overweight_threshold
		}
	}
}
chariot_race_4050_self_positive_modifiers = {
	modifier = {
		add = 50
		scope:victim = {
			age < 14
		}
	}
	modifier = {
		add = 30
		scope:victim = {
			OR = {
				has_trait = infirm
				has_trait = incapable
			}
		}
	}
	modifier = {
		add = 20
		intrigue >= high_skill_rating
	}
	modifier = {
		add = 20
		reverse_opinion = {
			target = scope:victim
			value >= 80
		}
	}
	modifier = {
		add = 20
		has_trait_xp = {
			trait = tourney_participant
			track = foot
			value > 50
		}
	}
	modifier = {
		add = 20
		scope:victim = {
			current_weight <= underweight_threshold
		}
	}
}
chariot_race_4050_self_negative_modifiers = {
	modifier = {
		add = 50
		scope:victim = { employs_court_position = bodyguard_court_position }
		scope:victim = {
			any_court_position_holder = {
				type = bodyguard_court_position
				location = scope:victim.location
				aptitude = {
					court_position = bodyguard_court_position
					value >= 4
				}
			}
		}
	}
	modifier = {
		add = 25
		scope:victim = { employs_court_position = bodyguard_court_position }
		scope:victim = {
			any_court_position_holder = {
				type = bodyguard_court_position
				location = scope:victim.location
				aptitude = {
					court_position = bodyguard_court_position
					value >= 2
				}
			}
		}
	}
	modifier = {
		add = 20
		scope:victim = { intrigue > high_skill_rating }
	}
	modifier = {
		add = 20
		scope:victim = { this = scope:host }
	}
	modifier = {
		add = 20
		scope:victim = {
			has_trait_xp = {
				trait = tourney_participant
				track = foot
				value > 50
			}
		}
	}
	modifier = {
		add = 20
		scope:victim = {
			current_weight >= overweight_threshold
		}
	}
}
