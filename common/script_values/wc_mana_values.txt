wc_sorcerer_trait_1_mana_value = 10
wc_sorcerer_trait_noninheritable_mana_value = 15
wc_sorcerer_trait_2_mana_value = 20
wc_sorcerer_trait_3_mana_value = 30

wc_mana_per_perk_base_value = 1

wc_max_mana_value = {
	add = { # Light
		add = light_magic_lifestyle_perks
		add = light_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Shadow
		add = shadow_magic_lifestyle_perks
		add = shadow_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Disorder
		add = disorder_magic_lifestyle_perks
		add = disorder_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Order
		add = order_magic_lifestyle_perks
		add = order_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Life
		add = life_magic_lifestyle_perks
		add = life_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Death
		add = death_magic_lifestyle_perks
		add = death_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	# Elemental
	add = { # Fire
		add = elemental_fire_magic_lifestyle_perks
		add = elemental_fire_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Water
		add = elemental_water_magic_lifestyle_perks
		add = elemental_water_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Air
		add = elemental_air_magic_lifestyle_perks
		add = elemental_air_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}
	add = { # Earth
		add = elemental_earth_magic_lifestyle_perks
		add = elemental_earth_magic_lifestyle_perk_points
		multiply = wc_mana_per_perk_base_value
	}

	if = {
		limit = { has_trait = magic_good_1 }
		add = wc_sorcerer_trait_1_mana_value
	}
	else_if = {
		limit = { has_trait = magic_good_2 }
		add = wc_sorcerer_trait_2_mana_value
	}
	else_if = {
		limit = { has_trait = magic_good_3 }
		add = wc_sorcerer_trait_3_mana_value
	}
	else_if = {
		limit = { has_trait = magic_bad_1 }
		subtract = wc_sorcerer_trait_1_mana_value
	}
	else_if = {
		limit = { has_trait = magic_bad_2 }
		subtract = wc_sorcerer_trait_2_mana_value
	}
	else_if = {
		limit = { has_trait = magic_bad_3 }
		subtract = wc_sorcerer_trait_3_mana_value
	}

	if = {
		limit = { has_trait = magic_good_noninheritable }
		add = wc_sorcerer_trait_noninheritable_mana_value
	}
	else_if = {
		limit = { has_trait = magic_bad_noninheritable }
		subtract = wc_sorcerer_trait_noninheritable_mana_value
	}

	min = 0
	ceiling = yes
}

wc_sorcerer_trait_1_mana_regeneration_value = 1
wc_sorcerer_trait_noninheritable_mana_regeneration_value = 2
wc_sorcerer_trait_2_mana_regeneration_value = 3
wc_sorcerer_trait_3_mana_regeneration_value = 5

wc_mana_regeneration_value = {
	value = 1

	if = {
		limit = { has_trait = magic_good_1 }
		add = wc_sorcerer_trait_1_mana_regeneration_value
	}
	else_if = {
		limit = { has_trait = magic_good_2 }
		add = wc_sorcerer_trait_2_mana_regeneration_value
	}
	else_if = {
		limit = { has_trait = magic_good_3 }
		add = wc_sorcerer_trait_3_mana_regeneration_value
	}

	if = {
		limit = { has_trait = magic_good_noninheritable }
		add = wc_sorcerer_trait_noninheritable_mana_regeneration_value
	}
}

wc_sorcerer_trait_1_current_mana_to_prowess_value = 0.1
wc_sorcerer_trait_noninheritable_current_mana_to_prowess_value = 0.15
wc_sorcerer_trait_2_current_mana_to_prowess_value = 0.2
wc_sorcerer_trait_3_current_mana_to_prowess_value = 0.3

wc_current_mana_to_prowess_base_percent = 0.3 # Also used in localization

wc_current_mana_to_prowess_percent = {
	value = wc_current_mana_to_prowess_base_percent

	if = {
		limit = { has_trait = magic_good_1 }
		add = wc_sorcerer_trait_1_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_good_2 }
		add = wc_sorcerer_trait_2_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_good_3 }
		add = wc_sorcerer_trait_3_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_bad_1 }
		subtract = wc_sorcerer_trait_1_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_bad_2 }
		subtract = wc_sorcerer_trait_2_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_bad_3 }
		subtract = wc_sorcerer_trait_3_current_mana_to_prowess_value
	}

	if = {
		limit = { has_trait = magic_good_noninheritable }
		add = wc_sorcerer_trait_noninheritable_current_mana_to_prowess_value
	}
	else_if = {
		limit = { has_trait = magic_bad_noninheritable }
		subtract = wc_sorcerer_trait_noninheritable_current_mana_to_prowess_value
	}

	min = 0
}

wc_current_mana_to_prowess_value = {
	if = {
		limit = { has_variable = wc_current_mana_variable }
		add = var:wc_current_mana_variable
	}

	multiply = wc_current_mana_to_prowess_percent

	ceiling = yes
}

wc_current_mana_percent_value = { # Used in localization and progressbars
	if = {
		limit = { has_variable = wc_current_mana_variable }
		add = var:wc_current_mana_variable
	}
	divide = wc_max_mana_value

	min = 0
}