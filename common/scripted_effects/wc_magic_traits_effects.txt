wc_remove_all_magic_lifestyle_traits_effect = {
	if = { # Light
		limit = { has_trait = user_of_light_magic_1 }
		remove_trait = user_of_light_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_2 }
		remove_trait = user_of_light_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_3 }
		remove_trait = user_of_light_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_4 }
		remove_trait = user_of_light_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_5 }
		remove_trait = user_of_light_magic_5
	}

	if = { # Shadow
		limit = { has_trait = user_of_shadow_magic_1 }
		remove_trait = user_of_shadow_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_2 }
		remove_trait = user_of_shadow_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_3 }
		remove_trait = user_of_shadow_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_4 }
		remove_trait = user_of_shadow_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_5 }
		remove_trait = user_of_shadow_magic_5
	}

	if = { # Disorder
		limit = { has_trait = user_of_disorder_magic_1 }
		remove_trait = user_of_disorder_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_2 }
		remove_trait = user_of_disorder_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_3 }
		remove_trait = user_of_disorder_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_4 }
		remove_trait = user_of_disorder_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_5 }
		remove_trait = user_of_disorder_magic_5
	}

	if = { # Order
		limit = { has_trait = user_of_order_magic_1 }
		remove_trait = user_of_order_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_2 }
		remove_trait = user_of_order_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_3 }
		remove_trait = user_of_order_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_4 }
		remove_trait = user_of_order_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_5 }
		remove_trait = user_of_order_magic_5
	}

	if = { # Life
		limit = { has_trait = user_of_life_magic_1 }
		remove_trait = user_of_life_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_2 }
		remove_trait = user_of_life_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_3 }
		remove_trait = user_of_life_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_4 }
		remove_trait = user_of_life_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_5 }
		remove_trait = user_of_life_magic_5
	}

	if = { # Death
		limit = { has_trait = user_of_death_magic_1 }
		remove_trait = user_of_death_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_2 }
		remove_trait = user_of_death_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_3 }
		remove_trait = user_of_death_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_4 }
		remove_trait = user_of_death_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_5 }
		remove_trait = user_of_death_magic_5
	}

	if = { # Spirit
		limit = { has_trait = user_of_elemental_spirit_magic_1 }
		remove_trait = user_of_elemental_spirit_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_spirit_magic_2 }
		remove_trait = user_of_elemental_spirit_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_spirit_magic_3 }
		remove_trait = user_of_elemental_spirit_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_spirit_magic_4 }
		remove_trait = user_of_elemental_spirit_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_spirit_magic_5 }
		remove_trait = user_of_elemental_spirit_magic_5
	}

	if = { # Decay
		limit = { has_trait = user_of_elemental_decay_magic_1 }
		remove_trait = user_of_elemental_decay_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_decay_magic_2 }
		remove_trait = user_of_elemental_decay_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_decay_magic_3 }
		remove_trait = user_of_elemental_decay_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_decay_magic_4 }
		remove_trait = user_of_elemental_decay_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_decay_magic_5 }
		remove_trait = user_of_elemental_decay_magic_5
	}

	if = { # Fire
		limit = { has_trait = user_of_elemental_fire_magic_1 }
		remove_trait = user_of_elemental_fire_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_2 }
		remove_trait = user_of_elemental_fire_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_3 }
		remove_trait = user_of_elemental_fire_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_4 }
		remove_trait = user_of_elemental_fire_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_5 }
		remove_trait = user_of_elemental_fire_magic_5
	}

	if = { # Water
		limit = { has_trait = user_of_elemental_water_magic_1 }
		remove_trait = user_of_elemental_water_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_2 }
		remove_trait = user_of_elemental_water_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_3 }
		remove_trait = user_of_elemental_water_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_4 }
		remove_trait = user_of_elemental_water_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_5 }
		remove_trait = user_of_elemental_water_magic_5
	}

	if = { # Air
		limit = { has_trait = user_of_elemental_air_magic_1 }
		remove_trait = user_of_elemental_air_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_2 }
		remove_trait = user_of_elemental_air_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_3 }
		remove_trait = user_of_elemental_air_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_4 }
		remove_trait = user_of_elemental_air_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_5 }
		remove_trait = user_of_elemental_air_magic_5
	}

	if = { # Earth
		limit = { has_trait = user_of_elemental_earth_magic_1 }
		remove_trait = user_of_elemental_earth_magic_1
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_2 }
		remove_trait = user_of_elemental_earth_magic_2
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_3 }
		remove_trait = user_of_elemental_earth_magic_3
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_4 }
		remove_trait = user_of_elemental_earth_magic_4
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_5 }
		remove_trait = user_of_elemental_earth_magic_5
	}
}

wc_MAGIC_magic_lifestyle_rank_up_check_effect = {
	if = {
		limit = {
			NOT = { has_trait = user_of_$MAGIC$_magic_5 } # Max level
		}

		hidden_effect = {
			if = {
				limit = {
					$MAGIC$_magic_lifestyle_perks >= 20
					has_trait = user_of_$MAGIC$_magic_4
				}
				change_trait_rank = { trait = wc_lifestyle_$MAGIC$_magic rank = 1 }
			}
			else_if = {
				limit = {
					$MAGIC$_magic_lifestyle_perks >= 15
					has_trait = user_of_$MAGIC$_magic_3
				}
				change_trait_rank = { trait = wc_lifestyle_$MAGIC$_magic rank = 1 }
			}
			else_if = {
				limit = {
					$MAGIC$_magic_lifestyle_perks >= 10
					has_trait = user_of_$MAGIC$_magic_2
				}
				change_trait_rank = { trait = wc_lifestyle_$MAGIC$_magic rank = 1 }
			}
			else_if = {
				limit = {
					$MAGIC$_magic_lifestyle_perks >= 5
					has_trait = user_of_$MAGIC$_magic_1
				}
				change_trait_rank = { trait = wc_lifestyle_$MAGIC$_magic rank = 1 }
			}
			else_if = {
				limit = { NOT = { has_trait = user_of_$MAGIC$_magic_1 } }
				add_trait = user_of_$MAGIC$_magic_1
			}
		}
	}
}