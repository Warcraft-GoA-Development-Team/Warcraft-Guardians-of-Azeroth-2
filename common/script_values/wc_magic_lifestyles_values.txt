wc_magic_bad_1_xp_gain_mult_value = -0.1
wc_magic_bad_2_xp_gain_mult_value = -0.2
wc_magic_bad_3_xp_gain_mult_value = -0.3
wc_magic_good_1_xp_gain_mult_value = 0.1
wc_magic_good_2_xp_gain_mult_value = 0.2
wc_magic_good_3_xp_gain_mult_value = 0.3
wc_magic_bad_noninheritable_xp_gain_mult_value = -0.15
wc_magic_good_noninheritable_xp_gain_mult_value = 0.15

wc_perks_needed_for_level_1_magic_trait_value = 1
wc_perks_needed_for_level_2_magic_trait_value = 4
wc_perks_needed_for_level_3_magic_trait_value = 8
wc_perks_needed_for_level_4_magic_trait_value = 12
wc_perks_needed_for_level_5_magic_trait_value = 16

wc_perks_needed_for_next_level_light_magic_trait_value = { # These are used for localization purposes
	if = {
		limit = {
			OR = {
				has_trait = user_of_light_magic_5
				has_trait = user_of_light_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_light_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_shadow_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_shadow_magic_5
				has_trait = user_of_shadow_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_shadow_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_disorder_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_disorder_magic_5
				has_trait = user_of_disorder_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_disorder_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_order_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_order_magic_5
				has_trait = user_of_order_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_order_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_life_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_life_magic_5
				has_trait = user_of_life_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_life_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_death_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_death_magic_5
				has_trait = user_of_death_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_death_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_elemental_fire_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_elemental_fire_magic_5
				has_trait = user_of_elemental_fire_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_fire_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_elemental_water_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_elemental_water_magic_5
				has_trait = user_of_elemental_water_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_water_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_elemental_air_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_elemental_air_magic_5
				has_trait = user_of_elemental_air_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_air_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}
wc_perks_needed_for_next_level_elemental_earth_magic_trait_value = {
	if = {
		limit = {
			OR = {
				has_trait = user_of_elemental_earth_magic_5
				has_trait = user_of_elemental_earth_magic_4
			}
		}

		value = wc_perks_needed_for_level_5_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_3 }

		value = wc_perks_needed_for_level_4_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_2 }

		value = wc_perks_needed_for_level_3_magic_trait_value
	}
	else_if = {
		limit = { has_trait = user_of_elemental_earth_magic_1 }

		value = wc_perks_needed_for_level_2_magic_trait_value
	}
	else = {
		value = wc_perks_needed_for_level_1_magic_trait_value
	}
}

wc_magic_lifestyle_auto_selection_weight_base_value = 11
wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value = {
	value = 0

	if = {
		limit = {
			OR = {
				has_trait = magic_good
				has_trait = magic_good_noninheritable
			}
		}
		add = 1989
	}
}

@wc_local_magic_lifestyle_auto_selection_weight_education_intrigue_add_to_base_value = 100
@wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value = 250
@wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value = 1000

@wc_local_lifestyle_multiply_mod_positive_big = 10
@wc_local_lifestyle_multiply_mod_positive_medium = 5
@wc_local_lifestyle_multiply_mod_positive_small = 3
@wc_local_lifestyle_multiply_mod_positive_tiny = 1.5

@wc_local_lifestyle_multiply_mod_negative_medium = 0.25

wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value = { # Common multiplier of all focuses
	value = 1

	if = {
		limit = {
			OR = {
				has_trait = magic_bad
				has_trait = magic_bad_noninheritable
			}
		}
		multiply = 0
	}
}
wc_magic_lifestyle_focus_selection_weight_multiply_elemental_spirit_magic_value = {
	value = 1

	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_spirit } }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_big]
	}

	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_spirit }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}

	if = { # Elemental duality - bravery
		limit = { has_trait = brave }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = craven }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - naivete
		limit = { has_trait = trusting }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = paranoid }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
}
wc_magic_lifestyle_focus_selection_weight_multiply_elemental_decay_magic_value = {
	value = 1

	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_decay } }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_big]
	}

	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_decay }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}

	if = { # Elemental duality - efficiency
		limit = { has_trait = diligent }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = lazy }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - ruthlessness
		limit = { has_trait = callous }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = sadistic } # Cruelty for cruelty's sake is not as efficient
		multiply = @[wc_local_lifestyle_multiply_mod_positive_small]
	}
	else_if = {
		limit = { has_trait = compassionate }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
}

wc_approved_magic_auto_selection_multiply_value = { # Cleargy and zealous prefer approved magic stronger than others
	value = 1
	if = {
		limit = {
			OR = {
				has_trait = zealous
				is_clergy = yes
			}
		}
		multiply = @[wc_local_lifestyle_multiply_mod_positive_big]
	}
	else = {
		multiply = @[wc_local_lifestyle_multiply_mod_positive_tiny]
	}
}

wc_light_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Light Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = light } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = light }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_shadow_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_intrigue }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_intrigue_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Shadow Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = shadow } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = shadow }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_disorder_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_intrigue }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_intrigue_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Disorder Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = disorder } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = disorder }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_order_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Order Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = order } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = order }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_life_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Life Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = life } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = life }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_death_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_intrigue }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_intrigue_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Death Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = death } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = death }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
}
wc_elemental_fire_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Fire Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_fire } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_fire }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}

	# Traits
	if = { # Elemental duality - passion
		limit = { has_trait = diligent }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = lazy }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - fury
		limit = { has_trait = wrathful }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = calm }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
}
wc_elemental_water_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Water Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_water } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_water }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
	# Traits
	if = { # Elemental duality - tranquility
		limit = { has_trait = calm }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = wrathful }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - indecisiveness
		limit = { has_trait = fickle }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = stubborn }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
}
wc_elemental_air_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Air Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_air } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_air }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
	# Traits
	if = { # Elemental duality - cunning
		limit = { has_trait = deceitful }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_small]
	}
	else_if = {
		limit = { has_trait = honest }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = {
		limit = { has_trait = paranoid }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_small]
	}
	else_if = {
		limit = { has_trait = trusting }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - madness
		limit = {
			OR = {
				has_trait = lunatic_1
				has_trait = lunatic_genetic
				has_trait = possessed_1
				has_trait = possessed_genetic
			}
		}
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
}
wc_elemental_earth_magic_auto_selection_value = {
	value = wc_magic_lifestyle_auto_selection_weight_base_value

	#### Addings
	# Talent
	add = wc_magic_lifestyle_auto_selection_weight_magic_talent_add_to_base_value
	if = { # Education
		limit = { has_trait = education_learning }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_learning_add_to_base_value
	}
	else_if = {
		limit = { has_trait = education_martial }
		add = @wc_local_magic_lifestyle_auto_selection_weight_education_martial_add_to_base_value
	}

	### Multipliers
	# Common
	multiply = wc_magic_lifestyle_focus_selection_weight_multiply_all_magic_value
	## Earth Magic
	# Doctrines
	if = {
		limit = { MAGIC_is_approved_trigger = { MAGIC = elemental_earth } }
		multiply = wc_approved_magic_auto_selection_multiply_value
	}
	if = {
		limit = {
			MAGIC_is_shunned_or_illegal_trigger = { MAGIC = elemental_earth }
			NOT = { has_trait = cynical }
		}
		multiply = 0
	}
	# Traits
	if = { # Elemental duality - stability
		limit = { has_trait = just }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = arbitrary }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
	if = { # Elemental duality - stubbornness
		limit = { has_trait = stubborn }
		multiply = @[wc_local_lifestyle_multiply_mod_positive_medium]
	}
	else_if = {
		limit = { has_trait = fickle }
		multiply = @[wc_local_lifestyle_multiply_mod_negative_medium]
	}
}

wc_magic_lifestyle_perk_auto_selection_weight_multiply_from_focus_value = 5