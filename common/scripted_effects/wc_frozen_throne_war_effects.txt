set_illidari_characters_effect = {
	# Give Illidari resources and set major players
	story_owner = {
		save_scope_as = illidan
	}
	character:42003 = {
		save_scope_as = kaelthas
	}
	character:330003 = {
		save_scope_as = vashj
	}
	scope:illidan = {
		add_gold = 250
		add_dread = high_dread
		add_prestige = 750
		dynasty = {
			add_dynasty_prestige_level = 3
			add_dynasty_prestige = 3000
			add_dynasty_perk = warfare_legacy_1
			add_dynasty_perk = warfare_legacy_2
		}
	}
	# NOTE: BALANCE THIS LATER
	scope:kaelthas = {
		add_gold = 250
		add_dread = high_dread
		add_prestige = 750
		dynasty = {
			add_dynasty_prestige_level = 3
			add_dynasty_prestige = 3000
			add_dynasty_perk = warfare_legacy_1
			add_dynasty_perk = warfare_legacy_2
		}
	}
	scope:vashj = {
		add_gold = 250
		add_dread = high_dread
		add_prestige = 750
		dynasty = {
			add_dynasty_prestige_level = 3
			add_dynasty_prestige = 3000
			add_dynasty_perk = warfare_legacy_1
			add_dynasty_perk = warfare_legacy_2
		}
	}
}

# Declare war on the Lich King
declare_war_on_lich_king_effect = {
	debug_log = "The Illidari have declared war on the Scourge!"
	debug_log_date = yes
	
	title:e_scourge.holder = { save_scope_as = scourge_holder }
	
	scope:illidan = {
		start_war = {
			cb = shatter_realm_cb
			target = title:e_scourge.holder
			target_title = title:e_scourge
			#add_attacker = scope:kaelthas
			#add_attacker = scope:vashj
		}		
		trigger_event = frozen_throne_war.10	# Gives troops
	}
	
	every_player = {
		limit = { get_news_from_region_trigger = { REGION = world_northrend } }
		trigger_event = frozen_throne_war.2 # Notification
	}
}

# Give Illidan troops
spawn_illidari_troops_effect = {
	if = {
		limit = { exists = capital_province }
		spawn_army = {
			uses_supply = no
			inheritable = no
			name = illidari_event_troops
			levies = {
				value = 2500
			}
			men_at_arms = {
				type = myrmidon
				stacks = 2
			}
			men_at_arms = {
				type = siren
				stacks = 2
			}
			men_at_arms = {
				type = spellbreaker
				stacks = 2
			}
			men_at_arms = {
				type = golem_arcane
				stacks = 4
			}
			men_at_arms = {
				type = trebuchet
				stacks = 10
			}
			location = capital_province
		}
	}
}