###################
# Nickname Events
###################

namespace = WCNIC

### the Old Murkeye
WCNIC.1 = { # Nickname for when the character rule long
	type = character_event
	title = WCNIC.1.t
	
	desc = {
		triggered_desc = {
			trigger = { has_culture_group = culture_group:murloc_group }
			desc = WCNIC.1.desc.m
		}
		triggered_desc = {
			trigger = { has_culture_group = culture_group:human_group }
			desc = WCNIC.1.desc.h
		}
	}
	
	theme = default
	override_background = {
		event_background = feast 
	}
	left_portrait = root
	
	trigger = {
		is_ruler = yes
		
		NOR = {
			has_character_flag = had_nickname_event
			has_character_flag = denied_nickname_event_the_old
		}
		
		OR = {
			has_culture_group = culture_group:human_group
			has_culture_group = culture_group:murloc_group
		}
		
		has_any_nickname = no
		NOT = {
			primary_title = { recent_history = { years = 10 } }
		}
		age >= 45
	}
	
	weight_multiplier = {
		base = 1
		modifier = {
			factor = 1.5
			age >= 55
		}
		modifier = {
			factor = 2
			age >= 65
		}
		modifier = {
			factor = 1.5
			NOT = {
				primary_title = { recent_history = { years = 20 } }
			}
		}
		modifier = {
			factor = 2
			NOT = {
				primary_title = { recent_history = { years = 30 } }
			}
		}
	}
	
	immediate = {
		add_character_flag = {
			flag = had_nickname_event
		}
	}
	
	option = { # the Old Murkeye
		name = WCNIC.1.a.m
		flavor = {
			desc = WCNIC.1.tt.a.m
		}
		
		trigger = {
			has_culture_group = culture_group:murloc_group
		}
		
		set_nickname_effect = { NICKNAME = nick_the_old_murkeye }
		give_self_nickname_effect = yes
		add_prestige = minor_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}
	
	option = { # the Old
		name = WCNIC.1.a.h
		
		trigger = {
			has_culture_group = culture_group:human_group
		}
		
		set_nickname_effect = { NICKNAME = nick_the_old }
		give_self_nickname_effect = yes
		add_prestige = minor_prestige_gain
		
		ai_chance = {
			base = 100
		}
	}
	
	option = { # None
		name = {
			trigger = {
				has_culture_group = culture_group:murloc_group
			}
			
			text = WCNIC.1.b.m
			# flavor = WCNIC.1.tt.b.m
		}
		
		name = {
			trigger = {
				has_culture_group = culture_group:human_group
			}
			
			text = WCNIC.1.b.h
		}
		
		remove_character_flag = had_nickname_event
		add_character_flag = {
			flag = denied_nickname_event_the_old
		}
		add_piety = minor_piety_gain
		
		ai_chance = {
			base = 200
		}
	}
}