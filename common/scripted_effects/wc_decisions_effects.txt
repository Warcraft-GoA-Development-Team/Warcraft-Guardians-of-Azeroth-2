embrace_voidfarer_faith_effect = {
	# Scopes saves for localization
	root = {
		save_scope_as = embracer
		culture = { 
			save_scope_as = old_culture
		}
	}

	# Prestige Bonus
	add_prestige = medium_prestige_gain

	custom_tooltip = embrace_voidfarer_faith_people_custom
	hidden_effect = {

		#Convert your, and your whole family's, culture
		every_close_or_extended_family_member = { 
			limit = { 
				can_become_voidfarer_trigger = yes
				is_landed = no 	# Landed people are handled through every_vassal_or_below
			}
			set_character_faith = faith:voidfarer
			set_culture = culture:void_elf
		}

		every_courtier = { 
			limit = { 
				can_become_voidfarer_trigger = yes
				is_landed = no 	
			}
			set_character_faith = faith:voidfarer
			set_culture = culture:void_elf
		}

		every_vassal_or_below = { 
			random_list = {
				50 = { # Converts
					positive_convert_void_elf_modifier = yes

					if = { 
						limit = { 
							can_become_voidfarer_trigger = yes
						}

						set_character_faith = faith:voidfarer
						set_culture = culture:void_elf
					}

					every_close_or_extended_family_member = { 
						limit = { 
							can_become_voidfarer_trigger = yes
							is_landed = no 	
						}

						random_list = {
							75 = { 
								positive_convert_void_elf_modifier = yes

								set_character_faith = faith:voidfarer
								set_culture = culture:void_elf
							}

							25 = { 
								negative_convert_void_elf_modifier = yes

							}
						}
					}
		
					every_courtier = { 
						limit = { 
							can_become_voidfarer_trigger = yes
							is_landed = no 	
						}
						set_character_faith = faith:voidfarer
						set_culture = culture:void_elf
					}
				}
				50 = { 
					negative_convert_void_elf_modifier = yes

				}
			}
		}
	}
	
	#Flip Counties
	every_county_in_region = {
		region = world_eastern_kingdoms_quelthalas
		custom = embrace_void_elf_culture_counties_custom
		limit = {
			target_is_de_facto_liege_or_above = root.primary_title
		}
		custom_tooltip = embrace_voidfarer_faith_lands_custom
		custom_tooltip = embrace_voidfarer_faith_lands_40_custom
		hidden_effect = {
			if = { 
				limit = { 
					culture = { has_cultural_pillar = heritage_highborne }
					holder = { 
						faith = faith:voidfarer
					}
				}

				set_county_faith = faith:voidfarer
				set_county_culture = culture:void_elf
			}
			else = { 
				random = {
					chance = 40
					set_county_faith = faith:voidfarer
					set_county_culture = culture:void_elf
				}
			}
		}
	}
}
