# can_start_new_lifestyle_tree_trigger
# lifestyle_friend_trigger


can_start_new_lifestyle_tree_trigger = {

	## Warcraft - Vanilla triggers. BE SURE TO UPDATE IT IF PARADOX CHANGE SOMETHING!
	wc_can_start_new_lifestyle_tree_foreign_affairs_trigger = yes
	wc_can_start_new_lifestyle_tree_majesty_trigger = yes
	wc_can_start_new_lifestyle_tree_family_trigger = yes
	wc_can_start_new_lifestyle_tree_strategy_trigger = yes
	wc_can_start_new_lifestyle_tree_authority_trigger = yes
	wc_can_start_new_lifestyle_tree_chivalry_trigger = yes
	wc_can_start_new_lifestyle_tree_wealth_trigger = yes
	wc_can_start_new_lifestyle_tree_domain_trigger = yes
	wc_can_start_new_lifestyle_tree_duty_trigger = yes
	wc_can_start_new_lifestyle_tree_skulduggery_trigger = yes
	wc_can_start_new_lifestyle_tree_temptation_trigger = yes
	wc_can_start_new_lifestyle_tree_intimidation_trigger = yes
	wc_can_start_new_lifestyle_tree_medicine_trigger = yes
	wc_can_start_new_lifestyle_tree_scholarship_trigger = yes
	wc_can_start_new_lifestyle_tree_theology_trigger = yes

	## Warcraft - Mod triggers
	# Light
	light_magic_can_start_new_lifestyle_tree_1_trigger = yes
	light_magic_can_start_new_lifestyle_tree_2_trigger = yes
	light_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Shadow
	shadow_magic_can_start_new_lifestyle_tree_1_trigger = yes
	shadow_magic_can_start_new_lifestyle_tree_2_trigger = yes
	shadow_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Disorder
	disorder_magic_can_start_new_lifestyle_tree_1_trigger = yes
	disorder_magic_can_start_new_lifestyle_tree_2_trigger = yes
	disorder_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Order
	order_magic_can_start_new_lifestyle_tree_1_trigger = yes
	order_magic_can_start_new_lifestyle_tree_2_trigger = yes
	order_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Life
	life_magic_can_start_new_lifestyle_tree_1_trigger = yes
	life_magic_can_start_new_lifestyle_tree_2_trigger = yes
	life_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Death
	death_magic_can_start_new_lifestyle_tree_1_trigger = yes
	death_magic_can_start_new_lifestyle_tree_2_trigger = yes
	death_magic_can_start_new_lifestyle_tree_3_trigger = yes
	# Fire
	elemental_fire_magic_can_start_new_lifestyle_tree_1_trigger = yes
	elemental_fire_magic_can_start_new_lifestyle_tree_2_trigger = yes
	# Water
	elemental_water_magic_can_start_new_lifestyle_tree_1_trigger = yes
	elemental_water_magic_can_start_new_lifestyle_tree_2_trigger = yes
	# Air
	elemental_air_magic_can_start_new_lifestyle_tree_1_trigger = yes
	elemental_air_magic_can_start_new_lifestyle_tree_2_trigger = yes
	# Earth
	elemental_earth_magic_can_start_new_lifestyle_tree_1_trigger = yes
	elemental_earth_magic_can_start_new_lifestyle_tree_2_trigger = yes

}



##############################
# LIFESTYLE FRIEND TRIGGERS
##############################

#Trigger to check if a friend is a lifestyle friend
lifestyle_friend_trigger = {
	trigger_if = {
		limit = { $CHARACTER$ = { is_ai = yes } }
		OR = {
			has_focus = $FOCUS$
			is_ruler = no
		}
	}
	#If a player, check the friend points
	trigger_else = {
		$FOCUS$_friend_points > 0
	}
}

#Is the character available as a potential lifestyle friend for CHARACTER
potential_lifestyle_friend_availability_trigger = {
	lifestyle_friend_trigger = { CHARACTER = $CHARACTER$ FOCUS = $FOCUS$ }
	basic_is_available_ai = yes
	NOR = {
		has_relation_friend = $CHARACTER$
		has_relation_rival = $CHARACTER$
		is_at_war_with =  $CHARACTER$
	}
	is_adult = yes
	opinion = {
		target = $CHARACTER$
		value >= low_negative_opinion
	}
	save_temporary_scope_value_as = {
		name = trigger_focus
		value = flag:$FOCUS$
	}
	trigger_if = {
		limit = { scope:trigger_focus = flag:intrigue_temptation_focus }
		NOT = {
			dislikes_partner_cheating_trigger = { PARTNER = $CHARACTER$ }
		}
	}
}

has_focus_martial = {
	OR = {
		has_focus = martial_chivalry_focus
		has_focus = martial_authority_focus
		has_focus = martial_strategy_focus
	}
}

has_focus_learning = {
	OR = {
		has_focus = learning_theology_focus
		has_focus = learning_scholarship_focus
		has_focus = learning_medicine_focus
	}
}

has_focus_intrigue = {
	OR = {
		has_focus = intrigue_intimidation_focus
		has_focus = intrigue_temptation_focus
		has_focus = intrigue_skulduggery_focus
	}
}

has_focus_diplomacy = {
	OR = {
		has_focus = diplomacy_family_focus
		has_focus = diplomacy_majesty_focus
		has_focus = diplomacy_foreign_affairs_focus
	}
}

has_focus_stewardship = {
	OR = {
		has_focus = stewardship_domain_focus
		has_focus = stewardship_wealth_focus
		has_focus = stewardship_duty_focus
	}
}


#######################
# misc
#######################

has_focus_or_focus_trait_trigger = {
	save_temporary_scope_value_as = {
		name = trigger_focus
		value = flag:$FOCUS$
	}
	OR = {
		has_focus = $FOCUS$
		trigger_if = {
			limit = { scope:trigger_focus = flag:diplomacy_foreign_affairs_focus }
			has_trait = diplomat
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:diplomacy_majesty_focus }
			has_trait = august
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:diplomacy_family_focus }
			has_trait = family_first
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:martial_strategy_focus }
			has_trait = strategist
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:martial_authority_focus }
			has_trait = overseer
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:martial_chivalry_focus }
			has_trait = gallant
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:stewardship_wealth_focus }
			has_trait = avaricious
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:stewardship_domain_focus }
			has_trait = architect
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:stewardship_duty_focus }
			has_trait = administrator
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:intrigue_skulduggery_focus }
			has_trait = schemer
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:intrigue_temptation_focus }
			has_trait = seducer
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:intrigue_intimidation_focus }
			has_trait = torturer
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:learning_medicine_focus }
			has_trait = whole_of_body
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:learning_scholarship_focus }
			has_trait = scholar
		}
		trigger_else_if = {
			limit = { scope:trigger_focus = flag:learning_theology_focus }
			has_trait = theologian
		}
		trigger_else = {
			always = no
		}
	}
}